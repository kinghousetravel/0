<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>King House Travel — Summer Tours 2026</title>
  <meta name="description" content="Elite summer tours, coastal retreats, Mediterranean cruises, beach resorts. King House Travel — luxury seasonal journeys across Europe." />
  <meta property="og:title" content="King House Travel — Summer Tours 2026" />
  <meta property="og:description" content="Book elite summer tours with glass UI, music, and multilingual support." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://images.unsplash.com/photo-1505228395891-9a51e7e86bf6?q=80&w=1600&auto=format&fit=crop" />
  <link rel="canonical" href="https://kinghousetravel.example/summer-2026" />
  <link rel="icon" href="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f33b.png">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Elegant luxury fonts for summer theme -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Cormorant+Garamond:wght@300;400;500;600&family=Source+Sans+Pro:wght@300;400;600&display=swap" rel="stylesheet">
  
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    img-src 'self' https://images.unsplash.com https://cdn.jsdelivr.net https://i.ytimg.com data:;
    media-src 'self' https://cdn.pixabay.com;
    script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://js.stripe.com https://www.youtube.com https://www.paypal.com https://www.paypalobjects.com;
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com;
    frame-src https://js.stripe.com https://www.paypal.com https://commerce.coinbase.com https://www.youtube.com https://youtube.com https://www.youtube-nocookie.com;
    connect-src 'self' https://fonts.gstatic.com https://api.stripe.com https://api.coinbase.com https://www.youtube.com;
  " />
  
  <style>
    :root{
      /* Summer theme colors - light yellow, elegant, luxurious tones */
      --bg:#faf8f3;                 /* Soft cream background - less bright */
      --bg-alt:#f5f2e6;              /* Subtle light yellow */
      --card:#ffffff;                /* Pure white for cards */
      --glass:rgba(245, 242, 230, 0.15);  /* Subtle light yellow veil */
      --stroke:rgba(212, 175, 55, 0.2);   /* Elegant gold border */
      --text:#2a1f0f;                /* Much darker text for maximum readability */
      --text-heading:#1d1202;        /* Very deep brown for headings */
      --text-weak:#4c3a28;           /* Darker medium brown for descriptions */
      --text-on-accent:#ffffff;      /* White text on colored elements */
      --muted:#b8941f;               /* Muted gold */
      --accent:#c17d11;              /* Elegant dark orange accent */
      --accent-secondary:#d4941e;    /* Warm orange */
      --gold:#f5e6b3;                /* Sophisticated light yellow gold */
      --shadow:0 8px 26px rgba(0,0,0,.12); /* Deeper shadow for contrast */
      --radius:18px;
      
      /* Font variables - luxury, elegant typography */
      --font-primary: 'Cormorant Garamond', serif;
      --font-secondary: 'Source Sans Pro', sans-serif;
      --font-heading: 'Playfair Display', serif;
      --font-weight-light: 300;
      --font-weight-regular: 400;
      --font-weight-medium: 500;
      --font-weight-semibold: 600;
      --font-weight-bold: 700;
      
      /* Luxury spacing */
      --letter-spacing-tight: -0.02em;
      --letter-spacing-normal: 0em;
      --letter-spacing-wide: 0.05em;
      
      /* Line height for elegance */
      --line-height-tight: 1.2;
      --line-height-normal: 1.5;
      --line-height-relaxed: 1.7;
    }
    /* Dark theme - adapted for summer with elegant light yellow accents */
    body.dark-theme{
      --bg:#141008;          /* Very dark brown */
      --bg-alt:#0d0a05;      /* Even darker */
      --card:#2d2110cc;      /* Transparent dark brown */
      --glass:rgba(245, 230, 179, 0.08); /* Elegant light yellow veil */
      --stroke:rgba(245, 230, 179, 0.18); /* Sophisticated light gold border */
      --text:#f0e6d2;        /* Warm off-white text */
      --text-heading:#ffffff; /* Pure white for headings */
      --text-weak:#d7c0a0;    /* Tan for secondary text */
      --muted:#f5e6b3;       /* Elegant light yellow gold for accents */
      --accent:#f5d76e;      /* Sophisticated light orange */
      --accent-secondary:#e6c658; /* Elegant medium yellow */
      --gold:#f9ebc1;        /* Premium light yellow gold */
      --shadow:0 10px 35px rgba(0,0,0,.4);
      
      /* Keep original fonts for dark theme */
      --font-primary: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      --font-secondary: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      --font-heading: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      --font-weight-light: 400;
      --font-weight-regular: 400;
      --font-weight-semibold: 600;
      --font-weight-bold: 700;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: var(--font-primary);
      font-weight: var(--font-weight-regular);
      color:var(--text);
      background: var(--bg);
      overflow-x:hidden;
      letter-spacing: var(--letter-spacing-normal);
      line-height: var(--line-height-normal);
    }
    @media (hover:hover) and (pointer:fine){
      body{ cursor: none; }
    }
    body.summer-sky .frost{background: radial-gradient(1000px 600px at 20% 10%, rgba(245, 242, 230,.22), transparent 60%),
                                     radial-gradient(900px 600px at 80% 90%,  rgba(245, 242, 230,.16), transparent 60%),
                                     linear-gradient(to bottom, rgba(245, 242, 230,.28), rgba(245, 242, 230,.10) 42%, rgba(245, 242, 230,.28));}
    body.summer-sky .sunbeam-field{opacity:1} /* Show sunbeams in summer theme */
    body.dark-theme .frost{background: radial-gradient(1200px 600px at 10% 10%, rgba(0,0,0,.2), transparent 60%), radial-gradient(900px 600px at 90% 90%, rgba(0,0,0,.15), transparent 60%), linear-gradient(to bottom, rgba(20, 16, 8,.7), rgba(20, 16, 8,.3) 40%, rgba(20, 16, 8,.8));}
    body.dark-theme .sunbeam-field{opacity:0.7}
    .video-bg{position:fixed; inset:0; z-index:-2; width:100%; height:100%; overflow:hidden}
    .video-bg video{position:absolute; top:50%; left:50%; min-width:100%; min-height:100%; width:auto; height:auto; transform:translate(-50%, -50%); object-fit:cover; border:none}
    .video-overlay{position:fixed; inset:0; z-index:-1; background:rgba(245, 242, 230,0.12); pointer-events:none}
    body.dark-theme .video-overlay{ background: rgba(0,0,0,0.3); }
    .frost{position:fixed; inset:0; z-index:0; background: radial-gradient(1200px 600px at 10% 10%, rgba(245, 242, 230,.3), transparent 60%), radial-gradient(900px 600px at 90% 90%, rgba(245, 242, 230,.2), transparent 60%), linear-gradient(to bottom, rgba(245, 242, 230,.5), rgba(245, 242, 230,.15) 40%, rgba(245, 242, 230,.6)); pointer-events:none}
    .sunbeam-field{position:fixed; inset:0; z-index:1; opacity:0; transition:opacity .6s ease; pointer-events:none}
    .sunbeam{position:absolute; width:100%; height:2px; background:linear-gradient(to right, rgba(245, 230, 179, 0.4), rgba(212, 175, 55, 0.6)); border-radius:50%; transform: scaleX(0.8)}
    
    .wrap{max-width:1200px; margin:0 auto; padding:24px}
    header.top{display:flex; align-items:center; justify-content:space-between; gap:12px; position:sticky; top:0; z-index:5; padding:14px 16px; margin:-14px -16px 20px; background: linear-gradient(to bottom, rgba(245, 242, 230,.38), rgba(245, 242, 230,.18)); backdrop-filter: blur(8px); border-bottom:1px solid var(--stroke)}
    body.dark-theme header.top{background: linear-gradient(to bottom, rgba(20, 16, 8,.7), rgba(20, 16, 8,.4));}
    .brand{display:flex; align-items:center; gap:12px}
    .logo{width:42px; height:42px; border-radius:50%; display:grid; place-items:center; font-weight:600; letter-spacing:.5px; color:#8d4e1b; background: radial-gradient(120% 120% at 30% 30%, #f5e6b3, var(--gold) 55%, #c17d11 100%); border:1px solid #d4af37; box-shadow: 0 2px 12px rgba(212, 175, 55,.35), inset 0 0 4px rgba(255,255,255,.5)}
    .title{font-family: var(--font-heading); font-weight: var(--font-weight-medium); font-size:18px; line-height:1.2; color: var(--text-heading); letter-spacing: var(--letter-spacing-tight)}
    .title small{display:block; font-family: var(--font-primary); font-weight: var(--font-weight-regular); color:var(--gold); letter-spacing: var(--letter-spacing-normal)}
    .actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
    .btn{appearance:none; border:none; cursor:pointer; padding:10px 14px; border-radius:999px; font-family: var(--font-secondary); font-weight: var(--font-weight-medium); background: linear-gradient(45deg, var(--gold), rgba(245, 230, 179,.72)); color:var(--text-on-accent); box-shadow: 0 6px 16px rgba(212, 175, 55,.28); transition: transform .15s ease, box-shadow .15s ease; letter-spacing: var(--letter-spacing-wide)}
    .btn:hover{transform:translateY(-2px); box-shadow:0 10px 22px rgba(212, 175, 55,.38)}
    .btn.ghost{background: rgba(255,255,255,.22); color:var(--text); border:1px solid var(--stroke); box-shadow:none; letter-spacing: var(--letter-spacing-normal)}
    body.dark-theme .btn.ghost{background:rgba(255,255,255,.08); border:1px solid var(--stroke);}
    .btn.ghost:hover{background: rgba(255,255,255,.36)}
    body.dark-theme .btn.ghost:hover{background:rgba(255,255,255,.15)}
    .cart-btn{position:relative}
    .cart-count{position:absolute; top:-6px; right:-6px; background:var(--gold); color:var(--text-on-accent); border-radius:50%; font-size:12px; width:18px; height:18px; display:grid; place-items:center; font-weight:600}
    .hero{display:grid; gap:18px; padding:28px; border-radius:var(--radius); background: linear-gradient(180deg, rgba(245, 242, 230,.34), rgba(245, 242, 230,.18)); border:1px solid rgba(193, 125, 17,.14); backdrop-filter: blur(8px) saturate(0.95); box-shadow: var(--shadow)}
    body.dark-theme .hero{background: linear-gradient(180deg, rgba(45, 33, 16,.6), rgba(45, 33, 16,.3));}
    .hero h1{font-family: var(--font-heading); font-size: clamp(32px, 4vw, 56px); line-height:var(--line-height-tight); font-weight: var(--font-weight-bold); letter-spacing:var(--letter-spacing-tight); color: var(--text-heading); margin-bottom: 8px}
    .hero h1 .gold{color:var(--accent); text-shadow:0 2px 12px rgba(193, 125, 17,.35)}
    .hero p{font-family: var(--font-primary); font-weight: var(--font-weight-light); color:var(--text-weak); max-width:60ch; line-height:var(--line-height-relaxed)}
    .cta-row{display:flex; gap:12px; flex-wrap:wrap; margin-top:6px}
    .grid{display:grid; gap:22px; margin:28px 0; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr))}
    .card{background: var(--card); border:1px solid rgba(193, 125, 17,.14); border-radius:var(--radius); overflow:hidden; box-shadow: 0 10px 24px rgba(0,0,0,.12); transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease}
    .card:hover{ transform: translateY(-6px); border-color: rgba(193, 125, 17,.35); box-shadow: 0 14px 34px rgba(0,0,0,.16)}
    .card .img{height:190px; background-size:cover; background-position:center}
    .card .body{padding:16px}
    .card h3{font-family: var(--font-heading); font-size:20px; margin-bottom:8px; font-weight: var(--font-weight-semibold); color:#c17d11cc; letter-spacing: var(--letter-spacing-tight)}
    .card p{font-family: var(--font-primary); font-size:15px; color:var(--text-weak); line-height:var(--line-height-relaxed); font-weight: var(--font-weight-light)}
    .price{display:inline-block; margin-top:10px; padding:6px 10px; border-radius:999px; background: rgba(193, 125, 17,.12); color:var(--text-on-accent); font-family: var(--font-secondary); font-weight: var(--font-weight-medium)}
    .buy{margin-top:12px; display:flex; gap:8px}
    .wellness{display:grid; gap:16px; padding:28px; border-radius:22px; background: linear-gradient(180deg, rgba(245, 242, 230,.34), rgba(245, 242, 230,.18)); border:1px solid rgba(193, 125, 17,.14); backdrop-filter: blur(8px) saturate(0.95); box-shadow: var(--shadow); margin: 10px 0 28px}
    body.dark-theme .wellness{background: linear-gradient(180deg, rgba(45, 33, 16,.6), rgba(45, 33, 16,.3));}
    .wellness h2{font-family: var(--font-heading); font-size: clamp(26px, 3.2vw, 40px); font-weight: var(--font-weight-bold); color: var(--text-heading); letter-spacing: var(--letter-spacing-tight)}
    .pill{display:inline-block; padding:8px 12px; border-radius:999px; border:1px solid var(--stroke); background:rgba(255,255,255,.3); margin-right:8px; margin-top:8px; font-family: var(--font-primary); font-weight: var(--font-weight-regular); color:var(--text)}
    body.dark-theme .pill{background:rgba(255,255,255,.08);}
    .festivals{display:grid; gap:16px; padding:28px; border-radius:22px; background: linear-gradient(180deg, rgba(245, 242, 230,.34), rgba(245, 242, 230,.18)); border:1px solid rgba(193, 125, 17,.14); backdrop-filter: blur(8px) saturate(0.95); box-shadow: var(--shadow); margin: 10px 0 28px}
    body.dark-theme .festivals{background: linear-gradient(180deg, rgba(45, 33, 16,.6), rgba(45, 33, 16,.3));}
    .festivals h2{font-family: var(--font-heading); font-size: clamp(26px, 3.2vw, 40px); font-weight: var(--font-weight-bold); color: var(--accent-secondary); letter-spacing: var(--letter-spacing-tight)}
    .festival-item{display:flex; align-items:center; gap:12px; margin-top:12px}
    .festival-date{min-width:100px; padding:6px 10px; border-radius:999px; background:var(--accent-secondary); color:white; font-family: var(--font-secondary); font-weight: var(--font-weight-medium); text-align:center}
    .festival-info{flex:1}
    .festival-info h4{font-family: var(--font-heading); font-weight: var(--font-weight-semibold); color: var(--text-heading); letter-spacing: var(--letter-spacing-tight)}
    .festival-info p{font-family: var(--font-primary); font-weight: var(--font-weight-light); color: var(--text-weak); line-height:var(--line-height-relaxed)}
    .countdown{display:flex; justify-content:center; gap:20px; margin:20px 0; padding:15px; border-radius:var(--radius); background: linear-gradient(45deg, var(--accent), var(--accent-secondary)); color:white; font-family: var(--font-secondary); font-weight: var(--font-weight-medium)}
    .countdown-item{text-align:center}
    .countdown-value{font-size:24px; display:block; font-family: var(--font-heading)}
    .countdown-label{font-size:12px; opacity:0.8}
    footer{margin:32px 0 18px; text-align:center; color:#c17d11aa; font-family: var(--font-primary); font-weight: var(--font-weight-regular)}
    body.dark-theme footer{color:#f5e6b3aa}
    .company-info{margin-top:40px; padding:20px; border-radius:var(--radius); background: linear-gradient(180deg, rgba(245, 242, 230,.34), rgba(245, 242, 230,.18)); border:1px solid rgba(193, 125, 17,.14); backdrop-filter: blur(8px) saturate(0.95); box-shadow: var(--shadow)}
    body.dark-theme .company-info{background: linear-gradient(180deg, rgba(45, 33, 16,.6), rgba(45, 33, 16,.3));}
    .company-info h3{font-family: var(--font-heading); color:var(--accent); margin-bottom:12px; font-size:20px; font-weight: var(--font-weight-semibold); letter-spacing: var(--letter-spacing-tight)}
    .company-info p{font-family: var(--font-primary); color:var(--text-weak); line-height:var(--line-height-relaxed); font-weight: var(--font-weight-light)}
    .modal{position:fixed; inset:0; display:none; place-items:center; z-index:20; background: rgba(245, 242, 230,.4); backdrop-filter: blur(8px)}
    body.dark-theme .modal{background: rgba(0,0,0,.7);}
    .modal.open{display:grid}
    .sheet{width:min(720px, 92vw); background: var(--card); border:1px solid var(--stroke); border-radius:24px; padding:22px; box-shadow: 0 30px 80px rgba(0,0,0,.2)}
    .sheet h2{font-family: var(--font-heading); margin-bottom:6px; font-weight: var(--font-weight-semibold); color: var(--text-heading); letter-spacing: var(--letter-spacing-tight)}
    .form{display:grid; gap:12px; margin-top:10px}
    .row{display:grid; gap:12px; grid-template-columns:1fr 1fr}
    .row .full{grid-column:1 / -1}
    input, select, textarea{width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--stroke); background: rgba(255,255,255,.30); color:var(--text); font-family: var(--font-primary); font-weight: var(--font-weight-regular); outline:none}
    body.dark-theme input, body.dark-theme select, body.dark-theme textarea{background:rgba(255,255,255,.08); color:var(--text);}
    textarea{min-height:90px; resize:vertical}
    .payrow{display:flex; gap:10px; flex-wrap:wrap}
    .cart-item{display:grid; gap:8px; padding:12px; border-bottom:1px solid var(--stroke)}
    .cart-item:last-child{border-bottom:none}
    .cart-item button{font-size:12px; padding:6px 10px}
    @media (max-width:720px){ .row{grid-template-columns:1fr} }
    .cursor-dot{position:fixed; top:0; left:0; width:30px; height:30px; margin-top:-15px; margin-left:-15px; border-radius:50%; pointer-events:none; background: radial-gradient(circle, #c17d11, #c17d1100 70%); mix-blend-mode: screen; opacity:0.9; z-index:50; transition: transform 0.1s ease; box-shadow: 0 0 15px rgba(193, 125, 17, 0.7)}
    .cursor-dot.dark-theme-cursor{background: radial-gradient(circle, #f5e6b3, #f5e6b300 70%) !important; box-shadow: 0 0 15px rgba(245, 230, 179, 0.7) !important}
    .chat-launcher{position:fixed; right:18px; bottom:18px; z-index:60; border:0; border-radius:999px; padding:14px 16px; background:linear-gradient(45deg, var(--accent), rgba(193, 125, 17, 0.8)); color:white; font-family: var(--font-secondary); font-weight: var(--font-weight-medium); box-shadow:0 12px 30px rgba(193, 125, 17,.45); cursor:pointer}
    .chatbox{position:fixed; right:18px; bottom:82px; width:min(380px, 92vw); height:520px; display:none; grid-template-rows:auto 1fr auto; background:var(--card); border:1px solid var(--stroke); border-radius:16px; overflow:hidden; z-index:60; box-shadow:0 30px 80px rgba(0,0,0,.2)}
    .chatbox.open{display:grid}
    .chat-header{display:flex; align-items:center; justify-content:space-between; gap:8px; padding:10px 12px; background:linear-gradient(to right, rgba(245, 242, 230,.6), rgba(245, 242, 230,.35)); border-bottom:1px solid var(--stroke)}
    body.dark-theme .chat-header{background:linear-gradient(to right, rgba(20, 16, 8,.7), rgba(20, 16, 8,.4));}
    .chat-header .ttl{font-family: var(--font-heading); font-weight: var(--font-weight-semibold)}
    .chat-header .ttl small{display:block; font-family: var(--font-primary); font-weight: var(--font-weight-regular); color:var(--gold)}
    .chat-messages{padding:12px; overflow:auto; display:flex; flex-direction:column; gap:8px; scroll-behavior:smooth}
    .msg{max-width:85%; padding:10px 12px; border-radius:14px; line-height:var(--line-height-normal); box-shadow:var(--shadow); font-family: var(--font-primary); font-weight: var(--font-weight-regular)}
    .msg.bot{align-self:flex-start; background: rgba(245, 242, 230,.24); border:1px solid var(--stroke)}
    body.dark-theme .msg.bot{background:rgba(255,255,255,.08);}
    .msg.user{align-self:flex-end; background:linear-gradient(45deg, var(--accent), rgba(193, 125, 17, 0.8)); color:white; font-weight: var(--font-weight-medium)}
    .msg small{display:block; opacity:.7; font-size:11px; margin-top:4px}
    .chat-input{display:flex; gap:8px; padding:10px; border-top:1px solid var(--stroke); background: rgba(245, 242, 230,.10)}
    body.dark-theme .chat-input{background:rgba(255,255,255,.03);}
    .chat-input input{flex:1; padding:10px 12px; border-radius:12px; border:1px solid var(--stroke); background: rgba(255,255,255,.40); color:var(--text); font-family: var(--font-primary); font-weight: var(--font-weight-regular)}
    body.dark-theme .chat-input input{background:rgba(255,255,255,.08); color:var(--text);}
    .chipbar{display:flex; flex-wrap:wrap; gap:6px; padding:6px 10px; border-top:1px dashed var(--stroke); background: rgba(245, 242, 230,.08)}
    body.dark-theme .chipbar{background:rgba(255,255,255,.03);}
    .chip{border:1px solid var(--stroke); background: rgba(255,255,255,.20); color:var(--text); padding:6px 10px; border-radius:999px; font-size:12px; cursor:pointer; font-family: var(--font-primary); font-weight: var(--font-weight-regular)}
    body.dark-theme .chip{background:rgba(255,255,255,.08);}
    .typing{display:flex; align-items:center; gap:6px; opacity:.8}
    .dot{width:6px; height:6px; border-radius:50%; background:#c17d11; opacity:.8; animation:blink 1s infinite ease-in-out}
    body.dark-theme .dot{background:#f5e6b3;}
    .dot:nth-child(2){animation-delay:.2s} .dot:nth-child(3){animation-delay:.4s}
    @keyframes blink{0%,80%,100%{opacity:.2} 40%{opacity:1}}
    
    /* Language selector styles */
    .language-selector {
      position: relative;
      display: inline-block;
    }
    
    .language-btn {
      display: flex;
      align-items: center;
      gap: 6px;
      background: rgba(245, 242, 230,.3);
      color: var(--text);
      border: 1px solid var(--stroke);
      border-radius: 999px;
      padding: 10px 14px;
      font-family: var(--font-primary);
      font-weight: var(--font-weight-regular);
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    body.dark-theme .language-btn {
      background: rgba(255,255,255,.08);
    }
    
    .language-btn:hover {
      background: rgba(245, 242, 230,.5);
    }
    
    body.dark-theme .language-btn:hover {
      background: rgba(255,255,255,.15);
    }
    
    .language-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      margin-top: 8px;
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: 12px;
      box-shadow: 0 10px 25px rgba(0,0,0,.15);
      overflow: hidden;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.25s ease;
      z-index: 100;
      min-width: 160px;
    }
    
    .language-dropdown.active {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }
    
    .language-option {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 16px;
      cursor: pointer;
      transition: background 0.2s ease;
      font-family: var(--font-primary);
      font-weight: var(--font-weight-regular);
    }
    
    .language-option:hover {
      background: rgba(245, 242, 230,.5);
    }
    
    body.dark-theme .language-option:hover {
      background: rgba(255,255,255,.1);
    }
    
    .language-option.active {
      background: rgba(193, 125, 17,.15);
      color: var(--accent);
      font-weight: var(--font-weight-medium);
    }
    
    .language-flag {
      font-size: 18px;
    }
    
    /* Additional styles for summer theme */
    body.summer-sky .sunbeam{ 
      filter: blur(.6px); 
      opacity:.24; 
      animation: sunbeam 8s infinite linear;
    }
    
    @keyframes sunbeam {
      0% { transform: translateX(-100%) scaleX(0.8); }
      100% { transform: translateX(100vw) scaleX(0.8); }
    }
    
    /* Muted video for light theme */
    body.summer-sky .video-bg video{
      filter: saturate(1.1) brightness(1.05);
    }
    
    /* Text shadow for headings */
    .hero h1 {
      text-shadow: 0 1px 2px rgba(0,0,0,.08);
    }
    
    /* Apply fonts to all headings */
    h1, h2, h3, h4, h5, h6 {
      font-family: var(--font-heading);
      font-weight: var(--font-weight-semibold);
      color: var(--text-heading);
      letter-spacing: var(--letter-spacing-tight);
    }
    
    /* Apply fonts to text elements */
    p, span, small, label, input, select, textarea, .msg, .chip, .language-option {
      font-family: var(--font-primary);
      font-weight: var(--font-weight-regular);
    }
    
    /* Special weights for different elements */
    .btn, .cart-count, .price, .festival-date, .countdown {
      font-family: var(--font-secondary);
      font-weight: var(--font-weight-medium);
    }
    
    .hero h1, .wellness h2, .festivals h2, .sheet h2, .chat-header .ttl {
      font-weight: var(--font-weight-bold);
    }
    
    /* Lighter weight for descriptions */
    .card p, .hero p, .company-info p, .msg small {
      font-weight: var(--font-weight-light);
    }
    
    /* === Readability patch (light / summer only) === */
    /* 1) Much darker text variables for maximum readability */
    :root{
      --text:#2a1f0f;              /* Much darker brown for maximum readability */
      --text-heading:#1d1202;        /* Very deep brown */
      --text-weak:#4c3a28;           /* Darker medium brown */
      --text-on-accent:#ffffff;      /* White for colored elements */
    }
    body.summer-sky{
      color:var(--text);
    }
    body.summer-sky .hero p,
    body.summer-sky .card p,
    body.summer-sky .company-info p{ color:var(--text-weak); }
    /* 2) Background enhancer under card text (without losing image transparency) */
    body.summer-sky .card .img{
      position: relative;
    }
    body.summer-sky .card .img::after{
      /* Soft veil darkening area under title/description */
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(
        to bottom,
        rgba(0,0,0,0.00) 40%,
        rgba(0,0,0,0.15) 62%,
        rgba(0,0,0,0.25) 100%
      );
      pointer-events:none;
    }
    body.summer-sky .card .body{
      /* Light background only under text — not "plastic" */
      background: linear-gradient(
        to top,
        rgba(245, 242, 230,.85) 0%,
        rgba(245, 242, 230,.65) 60%,
        rgba(245, 242, 230,.00) 100%
      );
      -webkit-backdrop-filter: blur(4px);
      backdrop-filter: blur(4px);
    }
    /* 3) Headings — darker and with subtle shadow only on busy images */
    body.summer-sky .card h3,
    body.summer-sky .festivals h2,
    body.summer-sky .wellness h2,
    body.summer-sky .hero h1{
      color:var(--text-heading);
      text-shadow: 0 1px 2px rgba(0,0,0,.12);
    }
    /* 4) Buttons/badges — to ensure captions don't "disappear" */
    body.summer-sky .btn,
    body.summer-sky .price{
      color: var(--text-on-accent);
    }
    body.summer-sky .btn.ghost{
      color: var(--text);
      border-color: rgba(42, 31, 15,.18);
    }
    /* 5) WCAG quick-fix: if still pale on some photos — locally boost contrast */
    @media (prefers-contrast: more){
      body.summer-sky .card .body{
        background: linear-gradient(to top, rgba(245, 242, 230,.90), rgba(245, 242, 230,.70) 60%, rgba(245, 242, 230,0) 100%);
      }
      body.summer-sky .card h3{ text-shadow: 0 1px 3px rgba(0,0,0,.18); }
    }
    /* Point fix for problematic card */
    .card:nth-of-type(2) .img::after{ background:
      linear-gradient(to bottom, rgba(0,0,0,0) 35%, rgba(0,0,0,.18) 60%, rgba(0,0,0,.28) 100%);
    }
    
    /* Elegant light yellow accents for dark theme */
    body.dark-theme .btn {
      background: linear-gradient(45deg, var(--gold), rgba(245, 230, 179,.72));
      box-shadow: 0 6px 16px rgba(245, 230, 179,.28);
    }
    body.dark-theme .btn:hover {
      box-shadow: 0 10px 22px rgba(245, 230, 179,.38);
    }
    body.dark-theme .logo {
      background: radial-gradient(120% 120% at 30% 30%, #f9ebc1, var(--gold) 55%, #f5d76e 100%);
      border: 1px solid #f5e6b3;
      box-shadow: 0 2px 12px rgba(245, 230, 179,.35), inset 0 0 4px rgba(255,255,255,.5);
    }
    body.dark-theme .chat-launcher {
      background: linear-gradient(45deg, var(--accent), rgba(245, 215, 179, 0.8));
      box-shadow: 0 12px 30px rgba(245, 230, 179,.45);
    }
    body.dark-theme .msg.user {
      background: linear-gradient(45deg, var(--accent), rgba(245, 230, 179, 0.8));
    }
    body.dark-theme .dot {
      background: #f5e6b3;
    }
    body.dark-theme .cart-count {
      background: var(--gold);
    }
    body.dark-theme .language-option.active {
      background: rgba(245, 230, 179,.15);
      color: var(--accent);
    }
    body.dark-theme .sunbeam {
      background: linear-gradient(to right, rgba(245, 230, 179, 0.4), rgba(245, 215, 179, 0.6));
    }
    
    /* Additional dark text improvements for light theme */
    body.summer-sky .title {
      color: var(--text-heading);
    }
    
    body.summer-sky .festivals h2,
    body.summer-sky .wellness h2 {
      color: var(--text-heading);
    }
    
    body.summer-sky .company-info h3 {
      color: var(--accent);
    }
    
    body.summer-sky .festival-info h4 {
      color: var(--text-heading);
    }
    
    body.summer-sky .festival-info p {
      color: var(--text-weak);
    }
    
    body.summer-sky .pill {
      color: var(--text);
    }
    
    body.summer-sky .language-btn {
      color: var(--text);
    }
    
    body.summer-sky .language-option {
      color: var(--text);
    }
    
    body.summer-sky .msg.bot {
      color: var(--text);
    }
    
    body.summer-sky .chip {
      color: var(--text);
    }
    
    body.summer-sky input,
    body.summer-sky select,
    body.summer-sky textarea {
      color: var(--text);
    }
    
    body.summer-sky .chat-header .ttl {
      color: var(--text-heading);
    }
    
    body.summer-sky .chat-header .ttl small {
      color: var(--gold);
    }
    
    body.summer-sky .chat-input input {
      color: var(--text);
    }
    
    body.summer-sky .typing .dot {
      background: var(--accent);
    }
    
    body.summer-sky footer {
      color: var(--muted);
    }
    
    body.summer-sky .countdown-label {
      color: rgba(255, 255, 255, 0.9);
    }
    
    body.summer-sky .sheet h2 {
      color: var(--text-heading);
    }
    
    body.summer-sky #tourPicked {
      color: var(--muted);
    }
    
    body.summer-sky .cart-item {
      color: var(--text);
    }
    
    body.summer-sky #cartTotal {
      color: var(--accent);
    }
    
    body.summer-sky small {
      color: var(--muted);
    }
    
    body.summer-sky .chat-header {
      background: linear-gradient(to right, rgba(245, 242, 230,.6), rgba(245, 242, 230,.35));
    }
    
    body.summer-sky .chat-input {
      background: rgba(245, 242, 230,.10);
    }
    
    body.summer-sky .chipbar {
      background: rgba(245, 242, 230,.08);
    }
    
    body.summer-sky .msg.bot {
      background: rgba(245, 242, 230,.24);
    }
    
    body.summer-sky .chat-input input {
      background: rgba(255,255,255,.40);
    }
    
    body.summer-sky .chip {
      background: rgba(255,255,255,.20);
    }
    
    body.summer-sky .language-btn {
      background: rgba(245, 242, 230,.3);
    }
    
    body.summer-sky .btn.ghost {
      background: rgba(255,255,255,.22);
    }
    
    body.summer-sky .btn.ghost:hover {
      background: rgba(255,255,255,.36);
    }
    
    body.summer-sky .language-btn:hover {
      background: rgba(245, 242, 230,.5);
    }
    
    body.summer-sky .language-option:hover {
      background: rgba(245, 242, 230,.5);
    }
  </style>
</head>
<body>
  <div class="video-bg">
    <video 
      title="Summer tours background video"
      autoplay 
      muted 
      loop 
      playsinline
    >
      <source src="/kht/summer.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>
  <div class="video-overlay"></div>
  <div class="frost"></div>
  <div class="sunbeam-field" id="sunbeam-field"></div>
  <div class="wrap">
    <header class="top">
      <div class="brand">
        <div class="logo">KHT</div>
        <div class="title">
          <span data-i18n="company-name">King House Travel</span> 
          <small data-i18n="season-title">Summer Tours 2026</small>
        </div>
      </div>
      <div class="actions">
        <button class="btn" id="openBook" data-i18n="buy-summer-tour">Buy Summer Tour</button>
        <button class="btn ghost" id="musicBtn" aria-pressed="false" aria-label="Toggle background music" data-i18n="music-off">Music: Off</button>
        <button class="btn ghost" id="themeBtn" title="Toggle theme" aria-label="Toggle theme" data-i18n="theme-dark">Theme: Dark 🌙</button>
        
        <!-- Language selector -->
        <div class="language-selector">
          <button class="language-btn" id="languageBtn" aria-expanded="false" aria-label="Select language">
            <span class="language-flag" id="currentFlag">🇬🇧</span>
            <span id="currentLang">EN</span>
            <span>▼</span>
          </button>
          <div class="language-dropdown" id="languageDropdown">
            <div class="language-option active" data-lang="en">
              <span class="language-flag">🇬🇧</span>
              <span data-i18n="lang-en">English</span>
            </div>
            <div class="language-option" data-lang="cs">
              <span class="language-flag">🇨🇿</span>
              <span data-i18n="lang-cs">Czech</span>
            </div>
            <div class="language-option" data-lang="it">
              <span class="language-flag">🇮🇹</span>
              <span data-i18n="lang-it">Italian</span>
            </div>
          </div>
        </div>
        
        <button class="btn ghost cart-btn" id="cartBtn" title="Cart" aria-label="Open cart">
          <span class="cart-count" id="cartCount">0</span>
          <span data-i18n="cart">Cart</span>
        </button>
      </div>
    </header>
    <section class="hero" aria-label="Hero" lang="en">
      <h1><span class="gold" data-i18n="elite-summer-journeys">Elite</span> <span data-i18n="summer-journeys-title">Summer Journeys — Coastal, Islands & Beach Resorts</span></h1>
      <p data-i18n="hero-description">Crystal-clear luxury UI, curated 5★ stays, private yacht transfers, and signature „Mediterranean Wellness“ programs. Book in one click — multilingual and mobile-first. <strong>Bookings now open for 2026 season!</strong></p>
      <div class="cta-row">
        <button class="btn" id="heroBook" data-i18n="book-now">Book Now</button>
        <a class="btn ghost" href="#tours" data-i18n="explore-tours">Explore Tours</a>
      </div>
    </section>
    
    <!-- Countdown to Summer Special Offers -->
    <div class="countdown">
      <div class="countdown-item">
        <span class="countdown-value" id="days">15</span>
        <span class="countdown-label" data-i18n="days">Days</span>
      </div>
      <div class="countdown-item">
        <span class="countdown-value" id="hours">08</span>
        <span class="countdown-label" data-i18n="hours">Hours</span>
      </div>
      <div class="countdown-item">
        <span class="countdown-value" id="minutes">42</span>
        <span class="countdown-label" data-i18n="minutes">Minutes</span>
      </div>
      <div class="countdown-item">
        <span class="countdown-value" id="seconds">36</span>
        <span class="countdown-label" data-i18n="seconds">Seconds</span>
      </div>
    </div>
    
    <section id="tours" class="grid" aria-label="Summer tours">
      <article class="card">
        <div class="img" data-src="https://images.unsplash.com/photo-1505228395891-9a51e7e86bf6?q=80&w=1600&auto=format&fit=crop"></div>
        <div class="body">
          <h3 data-i18n="mediterranean-coastal-retreat">Mediterranean Coastal Retreat · Greek Islands</h3>
          <p lang="en" data-i18n="coastal-description">Experience stunning turquoise waters and hidden coves in Santorini & Mykonos. Private sunset cruises, gourmet seafood & cliffside villas. (2026 season)</p>
          <span class="price" data-i18n="price-from">from €2,899</span>
          <div class="buy">
            <button class="btn buy-btn" data-tour="Mediterranean Coastal Retreat" data-price="2899" data-i18n="buy">Buy</button>
            <button class="btn ghost cart-add" data-tour="Mediterranean Coastal Retreat" data-price="2899" data-i18n="add-to-cart">Add to Cart</button>
          </div>
        </div>
      </article>
      <article class="card">
        <div class="img" data-src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?q=80&w=1600&auto=format&fit=crop"></div>
        <div class="body">
          <h3 data-i18n="amalfi-coast-experience">Amalfi Coast Experience · Italy</h3>
          <p lang="en" data-i18n="amalfi-description">Luxury coastal escape along the Amalfi Coast. Private boat tours, lemon grove visits & seaside dining. (2026 season)</p>
          <span class="price" data-i18n="price-from">from €3,599</span>
          <div class="buy">
            <button class="btn buy-btn" data-tour="Amalfi Coast Experience" data-price="3599" data-i18n="buy">Buy</button>
            <button class="btn ghost cart-add" data-tour="Amalfi Coast Experience" data-price="3599" data-i18n="add-to-cart">Add to Cart</button>
          </div>
        </div>
      </article>
      <article class="card">
        <div class="img" data-src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?q=80&w=1600&auto=format&fit=crop"></div>
        <div class="body">
          <h3 data-i18n="croatian-islands-hopping">Croatian Islands Hopping · Adriatic</h3>
          <p lang="en" data-i18n="croatian-description">Historic coastal towns, crystal-clear waters & hidden beaches. Luxury yacht accommodations included. (2026 season)</p>
          <span class="price" data-i18n="price-from">from €1,999</span>
          <div class="buy">
            <button class="btn buy-btn" data-tour="Croatian Islands Hopping" data-price="1999" data-i18n="buy">Buy</button>
            <button class="btn ghost cart-add" data-tour="Croatian Islands Hopping" data-price="1999" data-i18n="add-to-cart">Add to Cart</button>
          </div>
        </div>
      </article>
    </section>
    
    <!-- Summer Festivals Section -->
    <section class="festivals" id="festivals" lang="en">
      <h2><span data-i18n="summer-festivals">Summer Festivals</span> <span data-i18n="europe-2026">Europe 2026</span></h2>
      <p data-i18n="festivals-description">Experience Europe's most vibrant summer festivals with our exclusive tours. From music celebrations to cultural events, we offer premium access to the season's highlights.</p>
      
      <div class="festival-item">
        <div class="festival-date" data-i18n="june-15">Jun 15-22</div>
        <div class="festival-info">
          <h4 data-i18n="ibiza-summer">Ibiza Summer Music Festival</h4>
          <p data-i18n="ibiza-description">Premier electronic music festival with exclusive VIP access & luxury beach parties.</p>
        </div>
      </div>
      
      <div class="festival-item">
        <div class="festival-date" data-i18n="july-1">Jul 1-7</div>
        <div class="festival-info">
          <h4 data-i18n="venice-festival">Venice Biennale</h4>
          <p data-i18n="venice-description">International art exhibition with private gallery tours & exclusive openings.</p>
        </div>
      </div>
      
      <div class="festival-item">
        <div class="festival-date" data-i18n="august-20">Aug 20-28</div>
        <div class="festival-info">
          <h4 data-i18n="santorini-festival">Santorini Jazz Festival</h4>
          <p data-i18n="santorini-description">Intimate jazz performances overlooking the caldera with gourmet dining experiences.</p>
        </div>
      </div>
      
      <div class="cta-row">
        <a class="btn" href="#openBook" data-i18n="book-festival-tour">Book Festival Tour</a>
        <a class="btn ghost" href="#tours" data-i18n="see-all-tours">See All Tours</a>
      </div>
    </section>
    
    <section class="wellness" id="wellness" lang="en">
      <h2><span class="gold" data-i18n="mediterranean-wellness">Mediterranean Wellness</span> <span data-i18n="programs">Programs</span></h2>
      <p data-i18n="wellness-description">Rejuvenation programs designed with wellness experts. Combine <strong data-i18n="thalassotherapy">thalassotherapy</strong>, <strong data-i18n="seaweed-wraps">seaweed wraps</strong>, <strong data-i18n="yoga-retreats">yoga retreats</strong>, <strong data-i18n="mediterranean-diet">Mediterranean diet</strong>, and <strong data-i18n="mindfulness-meditation">mindfulness meditation</strong> for renewed energy in 5–7 days. (Available for 2026 tours)</p>
      <div>
        <span class="pill" data-i18n="thalassotherapy">Thalassotherapy</span>
        <span class="pill" data-i18n="seaweed-wraps">Seaweed Wraps</span>
        <span class="pill" data-i18n="yoga-retreats">Yoga Retreats</span>
        <span class="pill" data-i18n="mediterranean-diet">Mediterranean Diet</span>
        <span class="pill" data-i18n="mindfulness-meditation">Mindfulness Meditation</span>
      </div>
      <div class="cta-row">
        <a class="btn" href="#pay" data-i18n="add-to-booking">Add to Booking</a>
        <a class="btn ghost" href="#openBook" data-i18n="ask-specialist">Ask Specialist</a>
      </div>
    </section>
    
    <!-- Company Information -->
    <section class="company-info" lang="en">
      <h3 data-i18n="about-company">About King House Travel</h3>
      <p data-i18n="company-description">Founded in 2010, King House Travel specializes in luxury seasonal journeys across Europe's most breathtaking destinations. With over a decade of experience, we curate exclusive summer experiences that combine coastal beauty, cultural immersion, and rejuvenating wellness. Our expert team ensures every detail of your journey is meticulously planned, from private yacht transfers to 5-star accommodations and unique local experiences. We pride ourselves on creating unforgettable memories for our discerning clientele.</p>
    </section>
    
    <footer lang="en">
      <span data-i18n="copyright">© 2026 King House Travel. All rights reserved.</span>
    </footer>
  </div>
  <div class="modal" id="bookModal" aria-hidden="true" aria-labelledby="bookTitle" role="dialog">
    <div class="sheet">
      <h2 id="bookTitle" data-i18n="book-summer-tour">Book Summer Tour</h2>
      <p id="tourPicked" style="color:var(--muted)" data-i18n="selected-tour">Selected tour: <b>—</b></p>
      <form class="form" id="bookForm">
        <div class="row">
          <input type="text" name="name" data-i18n-placeholder="full-name" placeholder="Full name" required />
          <input type="email" name="email" data-i18n-placeholder="email" placeholder="Email" required />
        </div>
        <div class="row">
          <input type="tel" name="phone" data-i18n-placeholder="phone" placeholder="+420…" />
          <select name="guests" required>
            <option value="" disabled selected data-i18n="guests">Guests</option>
            <option>1</option><option>2</option><option>3</option><option>4+</option>
          </select>
        </div>
        <div class="row">
          <input type="date" name="date" class="full" required />
        </div>
        <textarea name="notes" data-i18n-placeholder="preferences" placeholder="Preferences (beach activities, excursions, transfers)…"></textarea>
        <div class="row">
          <button type="submit" class="btn" data-i18n="send-request">Send Request</button>
          <button type="button" class="btn ghost" id="closeModal" data-i18n="close">Close</button>
        </div>
        <small style="color:var(--muted)" data-i18n="confirm-availability">We'll confirm availability & payment options by email/phone.</small>
      </form>
    </div>
  </div>
  <div id="pay" class="modal" aria-hidden="true" role="dialog">
    <div class="sheet">
      <h2 data-i18n="pay-deposit">Pay / Deposit</h2>
      <p style="color:var(--muted); margin-bottom:8px" data-i18n="pay-description">Secure your spot with a deposit. Choose Stripe, PayPal, or Crypto (BTC, ETH, USDT). (Demo only — connect keys on your server.)</p>
      <div class="payrow">
        <button class="btn" id="stripePay" data-i18n="pay-with-stripe">Pay with Stripe</button>
        <button class="btn ghost" id="paypalPay" data-i18n="pay-with-paypal">Pay with PayPal</button>
        <button class="btn ghost" id="cryptoPay" data-i18n="pay-with-crypto">Pay with Crypto</button>
        <button class="btn ghost" id="closePay" data-i18n="close">Close</button>
      </div>
      <small style="display:block; margin-top:10px; color:var(--muted)" data-i18n="payment-backend-info">To go live: create backend endpoints for Stripe (PaymentIntent), PayPal (Order), or Coinbase Commerce (Charge).</small>
    </div>
  </div>
  <div id="cartModal" class="modal" aria-hidden="true" role="dialog">
    <div class="sheet">
      <h2 data-i18n="cart">Cart</h2>
      <p style="color:var(--muted)" data-i18n="cart-description">Your selected tours for Summer 2026</p>
      <div id="cartItems"></div>
      <p id="cartTotal" style="color:var(--accent); font-weight:600; margin:12px 0" data-i18n="total">Total: €0</p>
      <div class="payrow">
        <button class="btn" id="cartCheckout" data-i18n="checkout">Checkout</button>
        <button class="btn ghost" id="cartClear" data-i18n="clear-cart">Clear Cart</button>
        <button class="btn ghost" id="cartClose" data-i18n="close">Close</button>
      </div>
    </div>
  </div>
  <audio id="bgMusic" loop playsinline preload="auto" muted autoplay>
    <source src="/kht/lana del rey — don't time (www.lightaudio.ru).mp3" type="audio/mpeg">
  </audio>
  <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.27/bundled/lenis.min.js"></script>
  <script>
    // Translation system
    const translations = {
      en: {
        "company-name": "King House Travel",
        "season-title": "Summer Tours 2026",
        "buy-summer-tour": "Buy Summer Tour",
        "music-off": "Music: Off",
        "music-on": "Music: On",
        "theme-light": "Theme: Light ☀",
        "theme-dark": "Theme: Dark 🌙",
        "cart": "Cart",
        "elite-summer-journeys": "Elite",
        "summer-journeys-title": "Summer Journeys — Coastal, Islands & Beach Resorts",
        "hero-description": "Crystal-clear luxury UI, curated 5★ stays, private yacht transfers, and signature „Mediterranean Wellness“ programs. Book in one click — multilingual and mobile-first. <strong>Bookings now open for 2026 season!</strong>",
        "book-now": "Book Now",
        "explore-tours": "Explore Tours",
        "mediterranean-coastal-retreat": "Mediterranean Coastal Retreat · Greek Islands",
        "coastal-description": "Experience stunning turquoise waters and hidden coves in Santorini & Mykonos. Private sunset cruises, gourmet seafood & cliffside villas. (2026 season)",
        "amalfi-coast-experience": "Amalfi Coast Experience · Italy",
        "amalfi-description": "Luxury coastal escape along the Amalfi Coast. Private boat tours, lemon grove visits & seaside dining. (2026 season)",
        "croatian-islands-hopping": "Croatian Islands Hopping · Adriatic",
        "croatian-description": "Historic coastal towns, crystal-clear waters & hidden beaches. Luxury yacht accommodations included. (2026 season)",
        "price-from": "from €{price}",
        "buy": "Buy",
        "add-to-cart": "Add to Cart",
        "summer-festivals": "Summer Festivals",
        "europe-2026": "Europe 2026",
        "festivals-description": "Experience Europe's most vibrant summer festivals with our exclusive tours. From music celebrations to cultural events, we offer premium access to the season's highlights.",
        "june-15": "Jun 15-22",
        "ibiza-summer": "Ibiza Summer Music Festival",
        "ibiza-description": "Premier electronic music festival with exclusive VIP access & luxury beach parties.",
        "july-1": "Jul 1-7",
        "venice-festival": "Venice Biennale",
        "venice-description": "International art exhibition with private gallery tours & exclusive openings.",
        "august-20": "Aug 20-28",
        "santorini-festival": "Santorini Jazz Festival",
        "santorini-description": "Intimate jazz performances overlooking the caldera with gourmet dining experiences.",
        "book-festival-tour": "Book Festival Tour",
        "see-all-tours": "See All Tours",
        "mediterranean-wellness": "Mediterranean Wellness",
        "programs": "Programs",
        "wellness-description": "Rejuvenation programs designed with wellness experts. Combine <strong>thalassotherapy</strong>, <strong>seaweed wraps</strong>, <strong>yoga retreats</strong>, <strong>Mediterranean diet</strong>, and <strong>mindfulness meditation</strong> for renewed energy in 5–7 days. (Available for 2026 tours)",
        "thalassotherapy": "Thalassotherapy",
        "seaweed-wraps": "Seaweed Wraps",
        "yoga-retreats": "Yoga Retreats",
        "mediterranean-diet": "Mediterranean Diet",
        "mindfulness-meditation": "Mindfulness Meditation",
        "add-to-booking": "Add to Booking",
        "ask-specialist": "Ask Specialist",
        "about-company": "About King House Travel",
        "company-description": "Founded in 2010, King House Travel specializes in luxury seasonal journeys across Europe's most breathtaking destinations. With over a decade of experience, we curate exclusive summer experiences that combine coastal beauty, cultural immersion, and rejuvenating wellness. Our expert team ensures every detail of your journey is meticulously planned, from private yacht transfers to 5-star accommodations and unique local experiences. We pride ourselves on creating unforgettable memories for our discerning clientele.",
        "copyright": "© 2026 King House Travel. All rights reserved.",
        "book-summer-tour": "Book Summer Tour",
        "selected-tour": "Selected tour: <b>—</b>",
        "full-name": "Full name",
        "email": "Email",
        "phone": "+420…",
        "guests": "Guests",
        "preferences": "Preferences (beach activities, excursions, transfers)…",
        "send-request": "Send Request",
        "close": "Close",
        "confirm-availability": "We'll confirm availability & payment options by email/phone.",
        "pay-deposit": "Pay / Deposit",
        "pay-description": "Secure your spot with a deposit. Choose Stripe, PayPal, or Crypto (BTC, ETH, USDT). (Demo only — connect keys on your server.)",
        "pay-with-stripe": "Pay with Stripe",
        "pay-with-paypal": "Pay with PayPal",
        "pay-with-crypto": "Pay with Crypto",
        "payment-backend-info": "To go live: create backend endpoints for Stripe (PaymentIntent), PayPal (Order), or Coinbase Commerce (Charge).",
        "cart-description": "Your selected tours for Summer 2026",
        "total": "Total: €{total}",
        "checkout": "Checkout",
        "clear-cart": "Clear Cart",
        "days": "Days",
        "hours": "Hours",
        "minutes": "Minutes",
        "seconds": "Seconds",
        "lang-en": "English",
        "lang-cs": "Czech",
        "lang-it": "Italian"
      },
      cs: {
        "company-name": "King House Travel",
        "season-title": "Letní zájezdy 2026",
        "buy-summer-tour": "Koupit letní zájezd",
        "music-off": "Hudba: Vyp",
        "music-on": "Hudba: Zap",
        "theme-light": "Téma: Světlé ☀",
        "theme-dark": "Téma: Tmavé 🌙",
        "cart": "Košík",
        "elite-summer-journeys": "Exkluzivní",
        "summer-journeys-title": "Letní cesty — Pobřeží, Ostrovy & Plážové Resorty",
        "hero-description": "Průhledný luxusní UI, kurátorské 5★ pobyty, soukromé jachetní transfery a podpisové programy „Středomořské wellness“. Rezervujte jedním kliknutím — vícejazyčné a pro mobilní zařízení. <strong>Rezervace pro sezónu 2026 již otevřeny!</strong>",
        "book-now": "Rezervovat nyní",
        "explore-tours": "Prozkoumat zájezdy",
        "mediterranean-coastal-retreat": "Středomořské pobřežní útočiště · Řecké ostrovy",
        "coastal-description": "Zažijte úchvatné tyrkysové vody a skryté zátoky na Santorini a Mykonu. Soukromé západové slunce plavby, gurmánské mořské plody a vily na útesech. (sezóna 2026)",
        "amalfi-coast-experience": "Zážitek z Amalfijského pobřeží · Itálie",
        "amalfi-description": "Luxusní únik na pobřeží Amalfi. Soukromé lodní výlety, návštěvy citronových hájů a jídlo u moře. (sezóna 2026)",
        "croatian-islands-hopping": "Přeskakování chorvatských ostrovů · Jaderské moře",
        "croatian-description": "Historická pobřežní města, průzračná voda a skryté pláže. Zahrnuty luxusní jachetní ubytování. (sezóna 2026)",
        "price-from": "od €{price}",
        "buy": "Koupit",
        "add-to-cart": "Přidat do košíku",
        "summer-festivals": "Letní festivaly",
        "europe-2026": "Evropa 2026",
        "festivals-description": "Zažijte nejživější letní festivaly Evropy s našimi exkluzivními zájezdy. Od hudebních oslav až po kulturní akce, nabízíme prémiový přístup k vrcholům sezóny.",
        "june-15": "15.-22. června",
        "ibiza-summer": "Letní hudební festival Ibiza",
        "ibiza-description": "Prémiový festival elektronické hudby s exkluzivním přístupem VIP a luxusními plážovými párty.",
        "july-1": "1.-7. července",
        "venice-festival": "Benátské bienále",
        "venice-description": "Mezinárodní umělecká výstava s soukromými prohlídkami galerií a exkluzivními otevřeními.",
        "august-20": "20.-28. srpna",
        "santorini-festival": "Jazzový festival Santorini",
        "santorini-description": "Intimní jazzová vystoupení s výhledem na kalderu s gurmánskými zážitky z jídla.",
        "book-festival-tour": "Rezervovat festivalový zájezd",
        "see-all-tours": "Zobrazit všechny zájezdy",
        "mediterranean-wellness": "Středomořské wellness",
        "programs": "Programy",
        "wellness-description": "Programy obnovy navržené s wellness experty. Kombinujte <strong>thalassoterapii</strong>, <strong>zábaly z mořských řas</strong>, <strong>jógové retreaty</strong>, <strong>středomořskou dietu</strong> a <strong>uvědomělou meditaci</strong> pro obnovení energie během 5–7 dnů. (K dispozici pro zájezdy 2026)",
        "thalassotherapy": "Thalassoterapie",
        "seaweed-wraps": "Zábaly z mořských řas",
        "yoga-retreats": "Jógové retreaty",
        "mediterranean-diet": "Středomořská dieta",
        "mindfulness-meditation": "Uvědomělá meditace",
        "add-to-booking": "Přidat k rezervaci",
        "ask-specialist": "Zeptat se specialisty",
        "about-company": "O společnosti King House Travel",
        "company-description": "Založena v roce 2010, King House Travel se specializuje na luxusní sezónní cesty po nejúchvatnějších destinacích Evropy. S více než desetiletými zkušenostmi vytváříme exkluzivní letní zážitky, které kombinují pobřežní krásu, kulturní zážitky a omlazující wellness. Náš expertní tým zajistí, že každý detail vaší cesty je pečlivě naplánován, od soukromých jachetních transferů po 5hvězdičkové ubytování a jedinečné místní zážitky. Hrdíme se na vytváření nezapomenutelných vzpomínek pro naše náročné klienty.",
        "copyright": "© 2026 King House Travel. Všechna práva vyhrazena.",
        "book-summer-tour": "Rezervovat letní zájezd",
        "selected-tour": "Vybraný zájezd: <b>—</b>",
        "full-name": "Celé jméno",
        "email": "E-mail",
        "phone": "+420…",
        "guests": "Hosté",
        "preferences": "Preference (plážové aktivity, výlety, transfery)…",
        "send-request": "Odeslat požadavek",
        "close": "Zavřít",
        "confirm-availability": "Potvrdíme dostupnost a platební možnosti e-mailem/telefonem.",
        "pay-deposit": "Zaplatit / Záloha",
        "pay-description": "Zajistěte si místo zálohou. Vyberte si Stripe, PayPal nebo Krypto (BTC, ETH, USDT). (Pouze demo — připojte klíče na svém serveru.)",
        "pay-with-stripe": "Zaplatit přes Stripe",
        "pay-with-paypal": "Zaplatit přes PayPal",
        "pay-with-crypto": "Zaplatit kryptoměnou",
        "payment-backend-info": "Pro spuštění: vytvořte backend endpointy pro Stripe (PaymentIntent), PayPal (Order) nebo Coinbase Commerce (Charge).",
        "cart-description": "Vaše vybrané zájezdy pro léto 2026",
        "total": "Celkem: €{total}",
        "checkout": "Pokladna",
        "clear-cart": "Vyprázdnit košík",
        "days": "Dny",
        "hours": "Hodiny",
        "minutes": "Minuty",
        "seconds": "Sekundy",
        "lang-en": "Angličtina",
        "lang-cs": "Čeština",
        "lang-it": "Italština"
      },
      it: {
        "company-name": "King House Travel",
        "season-title": "Tour Estive 2026",
        "buy-summer-tour": "Acquista Tour Estiva",
        "music-off": "Musica: Off",
        "music-on": "Musica: On",
        "theme-light": "Tema: Chiaro ☀",
        "theme-dark": "Tema: Scuro 🌙",
        "cart": "Carrello",
        "elite-summer-journeys": "Elite",
        "summer-journeys-title": "Viaggi Estivi — Costieri, Isole & Resort di Spiaggia",
        "hero-description": "UI di lusso trasparente, soggiorni curati 5★, trasferimenti privati in yacht e programmi di firma „Wellness Mediterraneo“. Prenota con un clic — multilingue e mobile-first. <strong>Prenotazioni aperte per la stagione 2026!</strong>",
        "book-now": "Prenota Ora",
        "explore-tours": "Esplora Tour",
        "mediterranean-coastal-retreat": "Ritiro Costiero Mediterraneo · Isole Greche",
        "coastal-description": "Sperimenta acque turchesi spettacolari e calette nascoste a Santorini e Mykonos. Crociere private al tramonto, pesce gourmet e ville sulla scogliera. (stagione 2026)",
        "amalfi-coast-experience": "Esperienza Costiera Amalfitana · Italia",
        "amalfi-description": "Fuga costiera di lusso lungo la Costiera Amalfitana. Tour in barca privati, visite ai limoneti e ristoranti sul mare. (stagione 2026)",
        "croatian-islands-hopping": "Isolitti Croati · Adriatico",
        "croatian-description": "Città costiere storiche, acque cristalline e spiagge nascoste. Inclusi alloggi di lusso in yacht. (stagione 2026)",
        "price-from": "da €{price}",
        "buy": "Acquista",
        "add-to-cart": "Aggiungi al Carrello",
        "summer-festivals": "Festival Estivi",
        "europe-2026": "Europa 2026",
        "festivals-description": "Sperimenta i festival estivi più vivaci d'Europa con i nostri tour esclusivi. Dalle celebrazioni musicali agli eventi culturali, offriamo accesso premium ai punti salienti della stagione.",
        "june-15": "15-22 Giu",
        "ibiza-summer": "Festival Musicale Estivo Ibiza",
        "ibiza-description": "Festival di musica elettronica di prim'ordine con accesso VIP esclusivo e feste di lusso in spiaggia.",
        "july-1": "1-7 Lug",
        "venice-festival": "Biennale di Venezia",
        "venice-description": "Esposizione d'arte internazionale con tour privati di gallerie e aperture esclusive.",
        "august-20": "20-28 Ago",
        "santorini-festival": "Festival Jazz Santorini",
        "santorini-description": "Intime esibizioni jazz con vista sulla caldera ed esperienze di gourmet dining.",
        "book-festival-tour": "Prenota Tour del Festival",
        "see-all-tours": "Vedi Tutti i Tour",
        "mediterranean-wellness": "Wellness Mediterraneo",
        "programs": "Programmi",
        "wellness-description": "Programmi di ringiovanimento progettati con esperti di benessere. Combina <strong>talassoterapia</strong>, <strong>bendaggi di alghe</strong>, <strong>ritiri di yoga</strong>, <strong>dieta mediterranea</strong> e <strong>meditazione mindfulness</strong> per un'energia rinnovata in 5–7 giorni. (Disponibile per i tour 2026)",
        "thalassotherapy": "Talassoterapia",
        "seaweed-wraps": "Bendaggi di Alghe",
        "yoga-retreats": "Ritiri di Yoga",
        "mediterranean-diet": "Dieta Mediterranea",
        "mindfulness-meditation": "Meditazione Mindfulness",
        "add-to-booking": "Aggiungi alla Prenotazione",
        "ask-specialist": "Chiedi a uno Specialista",
        "about-company": "Informazioni su King House Travel",
        "company-description": "Fondata nel 2010, King House Travel si specializza in viaggi stagionali di lusso attraverso le destinazioni più mozzafiato d'Europa. Con oltre un decennio di esperienza, creiamo esperienze estive esclusive che combinano bellezze costiere, immersione culturale e benessere ringiovanente. Il nostro team di esperti assicura che ogni dettaglio del tuo viaggio sia meticolosamente pianificato, dai trasferimenti privati in yacht agli alloggi 5 stelle ed esperienze locali uniche. Ci vantiamo di creare ricordi indimenticabili per la nostra esigente clientela.",
        "copyright": "© 2026 King House Travel. Tutti i diritti riservati.",
        "book-summer-tour": "Prenota Tour Estivo",
        "selected-tour": "Tour selezionato: <b>—</b>",
        "full-name": "Nome completo",
        "email": "Email",
        "phone": "+420…",
        "guests": "Ospiti",
        "preferences": "Preferenze (attività balneari, escursioni, trasferimenti)…",
        "send-request": "Invia Richiesta",
        "close": "Chiudi",
        "confirm-availability": "Confermeremo disponibilità e opzioni di pagamento tramite email/telefono.",
        "pay-deposit": "Paga / Acconto",
        "pay-description": "Assicura il tuo posto con un acconto. Scegli Stripe, PayPal o Crypto (BTC, ETH, USDT). (Solo demo — connetti le chiavi sul tuo server.)",
        "pay-with-stripe": "Paga con Stripe",
        "pay-with-paypal": "Paga con PayPal",
        "pay-with-crypto": "Paga con Crypto",
        "payment-backend-info": "Per andare online: crea endpoint di backend per Stripe (PaymentIntent), PayPal (Order) o Coinbase Commerce (Charge).",
        "cart-description": "I tuoi tour selezionati per l'Estate 2026",
        "total": "Totale: €{total}",
        "checkout": "Cassa",
        "clear-cart": "Svuota Carrello",
        "days": "Giorni",
        "hours": "Ore",
        "minutes": "Minuti",
        "seconds": "Secondi",
        "lang-en": "Inglese",
        "lang-cs": "Ceco",
        "lang-it": "Italiano"
      }
    };
    
    // Language switching functionality
    let currentLanguage = localStorage.getItem('kht_language') || 'en';
    
    function changeLanguage(lang) {
      currentLanguage = lang;
      localStorage.setItem('kht_language', lang);
      
      // Update language button
      const languageBtn = document.getElementById('languageBtn');
      const currentFlag = document.getElementById('currentFlag');
      const currentLang = document.getElementById('currentLang');
      
      // Set flag and language code
      if (lang === 'en') {
        currentFlag.textContent = '🇬🇧';
        currentLang.textContent = 'EN';
      } else if (lang === 'cs') {
        currentFlag.textContent = '🇨🇿';
        currentLang.textContent = 'CS';
      } else if (lang === 'it') {
        currentFlag.textContent = '🇮🇹';
        currentLang.textContent = 'IT';
      }
      
      // Update active language in dropdown
      document.querySelectorAll('.language-option').forEach(option => {
        if (option.dataset.lang === lang) {
          option.classList.add('active');
        } else {
          option.classList.remove('active');
        }
      });
      
      // Update all translatable elements
      document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
          // Handle special cases with dynamic content
          if (key === 'price-from' || key === 'total') {
            const priceMatch = element.textContent.match(/€(\d+)/);
            if (priceMatch) {
              element.textContent = translations[lang][key].replace('{price}', priceMatch[1]).replace('{total}', priceMatch[1]);
            }
          } else if (key === 'selected-tour') {
            const tourName = element.querySelector('b').textContent;
            element.innerHTML = translations[lang][key].replace('—', tourName);
          } else {
            element.innerHTML = translations[lang][key];
          }
        }
      });
      
      // Update placeholders
      document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        if (translations[lang] && translations[lang][key]) {
          element.placeholder = translations[lang][key];
        }
      });
      
      // Update document lang attribute
      document.documentElement.lang = lang;
      
      // Close dropdown
      document.getElementById('languageDropdown').classList.remove('active');
      languageBtn.setAttribute('aria-expanded', 'false');
    }
    
    document.addEventListener('DOMContentLoaded', () => {
      window.lenis = new Lenis({ duration: 1.2, smooth: true, smoothTouch: false });
      function raf(t){ window.lenis.raf(t); requestAnimationFrame(raf) }
      requestAnimationFrame(raf);
      
      // Initialize language
      changeLanguage(currentLanguage);
      
      // Set up language selector
      const languageBtn = document.getElementById('languageBtn');
      const languageDropdown = document.getElementById('languageDropdown');
      
      languageBtn.addEventListener('click', () => {
        const isExpanded = languageBtn.getAttribute('aria-expanded') === 'true';
        languageBtn.setAttribute('aria-expanded', !isExpanded);
        languageDropdown.classList.toggle('active');
      });
      
      // Close dropdown when clicking outside
      document.addEventListener('click', (e) => {
        if (!e.target.closest('.language-selector')) {
          languageDropdown.classList.remove('active');
          languageBtn.setAttribute('aria-expanded', 'false');
        }
      });
      
      // Handle language option clicks
      document.querySelectorAll('.language-option').forEach(option => {
        option.addEventListener('click', () => {
          changeLanguage(option.dataset.lang);
        });
      });
      
      // Lazy load images
      if ('IntersectionObserver' in window) {
        const io = new IntersectionObserver(entries=>{
          entries.forEach(e=>{
            if(!e.isIntersecting) return;
            const el=e.target, src=el.getAttribute('data-src');
            if(src){ el.style.backgroundImage = `url('${src}')`; io.unobserve(el); }
          });
        }, {rootMargin:'200px 0px'});
        document.querySelectorAll('.card .img[data-src]').forEach(el=>io.observe(el));
      } else {
        // Fallback for browsers without IntersectionObserver
        document.querySelectorAll('.card .img[data-src]').forEach(el => {
          const src = el.getAttribute('data-src');
          if(src) el.style.backgroundImage = `url('${src}')`;
        });
      }
      
      // Ensure video covers entire screen
      function adjustVideoSize() {
        const video = document.querySelector('.video-bg video');
        if (!video) return;
        
        const updateSize = () => {
          const vw = window.innerWidth;
          const vh = window.innerHeight;
          
          // Apply dimensions to cover entire viewport
          video.style.width = `${vw}px`;
          video.style.height = `${vh}px`;
          video.style.minWidth = '100%';
          video.style.minHeight = '100%';
        };
        
        updateSize();
        window.addEventListener('resize', updateSize);
      }
      
      adjustVideoSize();
      
      // Countdown timer for special offers
      function updateCountdown() {
        // Set the date we're counting down to (15 days from now for demo)
        const countDownDate = new Date();
        countDownDate.setDate(countDownDate.getDate() + 15);
        
        // Update the count down every 1 second
        const x = setInterval(function() {
          // Get today's date and time
          const now = new Date().getTime();
          
          // Find the distance between now and the count down date
          const distance = countDownDate - now;
          
          // Time calculations for days, hours, minutes and seconds
          const days = Math.floor(distance / (1000 * 60 * 60 * 24));
          const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = Math.floor((distance % (1000 * 60)) / 1000);
          
          // Display the result
          document.getElementById("days").textContent = days.toString().padStart(2, '0');
          document.getElementById("hours").textContent = hours.toString().padStart(2, '0');
          document.getElementById("minutes").textContent = minutes.toString().padStart(2, '0');
          document.getElementById("seconds").textContent = seconds.toString().padStart(2, '0');
          
          // If the count down is finished, write some text
          if (distance < 0) {
            clearInterval(x);
            document.getElementById("days").textContent = "00";
            document.getElementById("hours").textContent = "00";
            document.getElementById("minutes").textContent = "00";
            document.getElementById("seconds").textContent = "00";
          }
        }, 1000);
      }
      
      updateCountdown();
    });
    
    (function ensureMusic() {
      const music = document.getElementById('bgMusic');
      const musicBtn = document.getElementById('musicBtn');
      music.volume = 0.5;
      function updateMusicBtn(){
        const on = !music.muted && !music.paused;
        const lang = currentLanguage;
        const musicText = on ? 'music-on' : 'music-off';
        musicBtn.textContent = translations[lang][musicText];
        musicBtn.setAttribute('aria-pressed', String(on));
      }
      function tryUnmutePlay(){
        try {
          music.play().then(() => {
            music.muted = false;
            updateMusicBtn();
            window.removeEventListener('click', tryUnmutePlay, true);
            window.removeEventListener('touchstart', tryUnmutePlay, true);
          }).catch(err => console.warn('Music play failed:', err));
        } catch (err) { console.warn('Music init failed:', err); }
      }
      window.addEventListener('click', tryUnmutePlay, true);
      window.addEventListener('touchstart', tryUnmutePlay, true);
      musicBtn.addEventListener('click', async () => {
        try {
          if(music.paused){ await music.play(); music.muted = false; }
          else{ music.muted = !music.muted; }
          updateMusicBtn();
        } catch (err) { console.warn('Music toggle failed:', err); }
      });
      document.addEventListener('visibilitychange', () => {
        if(document.hidden) { music.pause(); music.muted = true; }
        updateMusicBtn();
      });
      updateMusicBtn();
    })();
    
    document.addEventListener('visibilitychange', () => {
      const video = document.querySelector('.video-bg video');
      if (document.hidden) {
        video.pause();
      } else {
        video.play().catch(e => console.log("Video play failed:", e));
      }
    });
    
    const sunbeamField = document.getElementById('sunbeam-field');
    function makeSunbeams(n=6){
      sunbeamField.innerHTML = '';
      for(let i=0;i<n;i++){
        const st = document.createElement('div');
        st.className = 'sunbeam';
        st.style.top = Math.random()*100 + 'vh';
        st.style.opacity = (0.4 + Math.random()*0.6).toFixed(2);
        // Randomize sunbeam colors - summer colors
        const colors = ['#f5e6b3', '#f5d76e', '#d4941e', '#c17d11'];
        st.style.background = `linear-gradient(to right, ${colors[Math.floor(Math.random() * colors.length)]}, ${colors[Math.floor(Math.random() * colors.length)]})`;
        st.style.animationDelay = `${Math.random() * 8}s`;
        sunbeamField.appendChild(st);
      }
    }
    
    // Focus trap for modals
    function trapFocus(modal) {
      const focusables = modal.querySelectorAll('a,button,input,select,textarea,[tabindex]:not([tabindex="-1"])');
      if (!focusables.length) return;
      
      const first = focusables[0], last = focusables[focusables.length-1];
      
      modal.addEventListener('keydown', function trapHandler(e) {
        if(e.key !== 'Tab') return;
        
        if(e.shiftKey && document.activeElement === first) {
          e.preventDefault();
          last.focus();
        } else if(!e.shiftKey && document.activeElement === last) {
          e.preventDefault();
          first.focus();
        }
      });
      
      // Focus first element
      first.focus();
    }
    
    const modal = document.getElementById('bookModal');
    const tourPicked = document.getElementById('tourPicked').querySelector('b');
    function openModal(tour){ 
      tourPicked.textContent = tour || '—'; 
      modal.classList.add('open'); 
      modal.setAttribute('aria-hidden','false'); 
      document.body.style.overflow = 'hidden'; 
      if (window.lenis) window.lenis.stop();
      trapFocus(modal);
    }
    function closeModal(){ 
      modal.classList.remove('open'); 
      modal.setAttribute('aria-hidden','true'); 
      document.body.style.overflow = ''; 
      if (window.lenis) window.lenis.start(); 
    }
    document.getElementById('openBook').addEventListener('click', ()=>openModal());
    document.getElementById('heroBook').addEventListener('click', ()=>openModal(translations[currentLanguage]['featured-summer-journey'] || 'Featured Summer Journey'));
    document.getElementById('closeModal').addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{ if(e.target===modal) closeModal() });
    document.querySelectorAll('.buy .buy-btn').forEach(btn=> btn.addEventListener('click', ()=> openModal(btn.dataset.tour)));
    document.getElementById('bookForm').addEventListener('submit', (e)=>{ 
      e.preventDefault(); 
      const successMsg = currentLanguage === 'en' ? 'Thank you! We will contact you to finalize your booking.' :
                          currentLanguage === 'cs' ? 'Děkujeme! Budeme Vás kontaktovat pro dokončení rezervace.' :
                          'Grazie! Ti contatteremo per finalizzare la prenotazione.';
      alert(successMsg); 
      closeModal(); 
      e.target.reset(); 
    });
    
    const payModal = document.getElementById('pay');
    function openPay(){ 
      payModal.classList.add('open'); 
      payModal.setAttribute('aria-hidden','false'); 
      document.body.style.overflow = 'hidden'; 
      if (window.lenis) window.lenis.stop();
      trapFocus(payModal);
    }
    function closePay(){ 
      payModal.classList.remove('open'); 
      payModal.setAttribute('aria-hidden','true'); 
      document.body.style.overflow = ''; 
      if (window.lenis) window.lenis.start(); 
    }
    document.querySelectorAll('[href="#pay"]').forEach(a=>a.addEventListener('click', (e)=>{ e.preventDefault(); openPay() }));
    document.getElementById('closePay').addEventListener('click', closePay);
    document.getElementById('stripePay').addEventListener('click', async ()=>{
      const alertMsg = currentLanguage === 'en' ? 'Stripe demo: call your backend /create-checkout-session and redirect to session.url' :
                      currentLanguage === 'cs' ? 'Stripe demo: volejte svůj backend /create-checkout-session a přesměrujte na session.url' :
                      'Demo Stripe: chiama il tuo backend /create-checkout-session e reindirizza a session.url';
      alert(alertMsg);
    });
    document.getElementById('paypalPay').addEventListener('click', async ()=>{
      const alertMsg = currentLanguage === 'en' ? 'PayPal demo: call your backend /create-order and redirect to approve link' :
                      currentLanguage === 'cs' ? 'PayPal demo: volejte svůj backend /create-order a přesměrujte na approve link' :
                      'Demo PayPal: chiama il tuo backend /create-order e reindirizza al link di approvazione';
      alert(alertMsg);
    });
    document.getElementById('cryptoPay').addEventListener('click', async ()=>{
      const alertMsg = currentLanguage === 'en' ? 'Crypto demo: call your backend /create-charge (Coinbase Commerce) and redirect to hosted_url' :
                      currentLanguage === 'cs' ? 'Crypto demo: volejte svůj backend /create-charge (Coinbase Commerce) a přesměrujte na hosted_url' :
                      'Demo Crypto: chiama il tuo backend /create-charge (Coinbase Commerce) e reindirizza a hosted_url';
      alert(alertMsg);
    });
    
    const cartModal = document.getElementById('cartModal');
    const cartItems = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');
    const cartCount = document.getElementById('cartCount');
    let cart = JSON.parse(localStorage.getItem('kht_cart') || '[]');
    
    // Cart event delegation
    cartItems.addEventListener('input', (e) => {
      const el = e.target;
      if (el.matches('input[type=number][data-i]')) {
        const i = Number(el.dataset.i);
        cart[i].guests = Math.max(1, Number(el.value) || 1);
        updateCart();
      }
    });
    
    cartItems.addEventListener('click', (e) => {
      const btn = e.target.closest('[data-remove]');
      if (!btn) return;
      cart.splice(Number(btn.dataset.remove), 1);
      updateCart();
    });
    
    function updateCart(){
      const removeText = translations[currentLanguage]['remove'] || 'Remove';
      cartItems.innerHTML = cart.length ? cart.map((item, i) => `
        <div class="cart-item">
          <strong>${item.tour}</strong> — €${item.price}
          × <input type="number" min="1" value="${item.guests}" data-i="${i}" style="width:60px">
          <button class="btn ghost" data-remove="${i}">${removeText}</button>
        </div>
      `).join('') : `<p style="color:var(--muted)">${translations[currentLanguage]['cart-empty'] || 'Cart is empty'}</p>`;
      
      const total = cart.reduce((sum, item) => sum + item.price * item.guests, 0);
      const totalText = translations[currentLanguage]['total'] || 'Total: €{total}';
      cartTotal.innerHTML = totalText.replace('{total}', new Intl.NumberFormat('en-US', {style:'currency', currency:'EUR'}).format(total));
      
      // Show total guests instead of items
      const totalGuests = cart.reduce((sum, item) => sum + (item.guests || 1), 0);
      cartCount.textContent = totalGuests;
      
      localStorage.setItem('kht_cart', JSON.stringify(cart));
    }
    
    function addToCart(tour, price){
      cart.push({ tour, price: Number(price), guests: 1 });
      updateCart();
      openCart();
    }
    
    function openCart(){
      cartModal.classList.add('open');
      cartModal.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
      if (window.lenis) window.lenis.stop();
      trapFocus(cartModal);
    }
    
    function closeCart(){
      cartModal.classList.remove('open');
      cartModal.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
      if (window.lenis) window.lenis.start();
    }
    
    document.getElementById('cartBtn').addEventListener('click', openCart);
    document.getElementById('cartClose').addEventListener('click', closeCart);
    document.getElementById('cartClear').addEventListener('click', () => { cart = []; updateCart(); });
    document.getElementById('cartCheckout').addEventListener('click', () => { if (cart.length) openPay(); });
    cartModal.addEventListener('click', (e) => { if (e.target === cartModal) closeCart(); });
    document.querySelectorAll('.cart-add').forEach(btn => btn.addEventListener('click', () => addToCart(btn.dataset.tour, btn.dataset.price)));
    updateCart();
    
    const themeBtn = document.getElementById('themeBtn');
    // Set light theme as default
    let isDarkTheme = localStorage.getItem('kht_theme') === 'dark';
    
    function syncSunbeams() {
      document.getElementById('sunbeam-field').style.opacity =
        document.body.classList.contains('summer-sky') ? '1' : '0.7';
    }
    
    // Function to update cursor color
    function updateCursorColor() {
      const cursorDots = document.querySelectorAll('.cursor-dot');
      cursorDots.forEach(dot => {
        if (document.body.classList.contains('dark-theme')) {
          dot.classList.add('dark-theme-cursor');
        } else {
          dot.classList.remove('dark-theme-cursor');
        }
      });
    }
    
    function setTheme(){
      if(isDarkTheme){
        document.body.classList.add('dark-theme');
        document.body.classList.remove('summer-sky');
        themeBtn.textContent = translations[currentLanguage]['theme-dark'] || 'Theme: Dark 🌙';
      }else{
        document.body.classList.remove('dark-theme');
        document.body.classList.add('summer-sky');
        themeBtn.textContent = translations[currentLanguage]['theme-light'] || 'Theme: Light ☀';
      }
      localStorage.setItem('kht_theme', isDarkTheme ? 'dark' : 'light');
      syncSunbeams();
      updateCursorColor(); // Update cursor color
    }
    
    themeBtn.addEventListener('click', () => { isDarkTheme = !isDarkTheme; setTheme(); });
    setTheme();
    
    // Cursor trail - optimized version
    const MAX = 16;
    const trail = [];
    
    // Only create cursor trail on devices with fine pointer
    if (window.matchMedia('(hover:hover) and (pointer:fine)').matches) {
      for(let i = 0; i < MAX; i++) {
        const d = document.createElement('div');
        d.className = 'cursor-dot';
        document.body.appendChild(d);
        trail.push(d);
      }
      
      window.addEventListener('mousemove', e => {
        trail.forEach((el, i) => {
          const s = 1 - i / MAX;
          el.style.transform = `translate(${e.clientX}px, ${e.clientY}px) scale(${Math.max(.4, s)})`;
          el.style.opacity = (0.4 + (1 - i / MAX) * 0.6).toFixed(2);
        });
      });
      
      // Update cursor color on page load
      updateCursorColor();
    }
  </script>
  <button class="chat-launcher" id="chatLaunch" aria-expanded="false" aria-label="Open support chat" data-i18n="chat-help">Chat • Help</button>
  <aside class="chatbox" id="chatBox" role="dialog" aria-label="KHT Assistant">
    <div class="chat-header">
      <div class="ttl">
        <span data-i18n="kht-assistant">KHT Assistant</span> 
        <small data-i18n="booking-wellness">Booking & Wellness</small>
      </div>
      <div>
        <button class="btn ghost" id="chatMin" aria-label="Minimize chat">—</button>
        <button class="btn" id="chatClose" aria-label="Close chat">×</button>
      </div>
    </div>
    <div class="chat-messages" id="chatLog"></div>
    <div class="chipbar" id="chipbar">
      <span class="chip" data-q="price" data-i18n="prices">Prices</span>
      <span class="chip" data-q="wellness" data-i18n="mediterranean-wellness">Mediterranean Wellness</span>
      <span class="chip" data-q="pay" data-i18n="pay-deposit">Pay / Deposit</span>
      <span class="chip" data-q="book" data-i18n="book-now">Book now</span>
      <span class="chip" data-q="contact" data-i18n="contact-agent">Contact agent</span>
    </div>
    <div class="chat-input">
      <input id="chatField" type="text" data-i18n-placeholder="type-message" placeholder="Type your message… / Napište zprávu… / Напишіть…" />
      <button class="btn" id="chatSend" data-i18n="send">Send</button>
    </div>
  </aside>
  <script>
    const chatLaunch = document.getElementById('chatLaunch');
    const chatBox = document.getElementById('chatBox');
    const chatLog = document.getElementById('chatLog');
    const chatField = document.getElementById('chatField');
    const chatSend = document.getElementById('chatSend');
    const chatClose = document.getElementById('chatClose');
    const chatMin = document.getElementById('chatMin');
    const chipbar = document.getElementById('chipbar');
    
    let chatLastFocus = null;
    
    function openChat(){ 
      chatLastFocus = document.activeElement;
      chatBox.classList.add('open'); 
      chatBox.setAttribute('aria-hidden','false');
      chatLaunch.setAttribute('aria-expanded','true'); 
      saveOpen(true); 
      if(!sessionStorage.getItem('kht_init')) { 
        botGreeting(); 
        sessionStorage.setItem('kht_init','1'); 
      } 
    }
    
    function closeChat(){ 
      chatBox.classList.remove('open'); 
      chatBox.setAttribute('aria-hidden','true');
      chatLaunch.setAttribute('aria-expanded','false'); 
      saveOpen(false);
      if (chatLastFocus) chatLastFocus.focus();
    }
    
    chatLaunch.addEventListener('click', ()=> chatBox.classList.contains('open')? closeChat(): openChat());
    chatClose.addEventListener('click', closeChat);
    chatMin.addEventListener('click', ()=> chatBox.classList.toggle('open'));
    
    function addMsg(role, text){
      const m = document.createElement('div');
      m.className = 'msg ' + role;
      m.innerHTML = text;
      chatLog.appendChild(m);
      chatLog.scrollTop = chatLog.scrollHeight;
      persist();
    }
    
    function typing(on=true){
      let t = document.getElementById('typing');
      if(on){ if(t) return; t = document.createElement('div'); t.id='typing'; t.className='msg bot typing'; t.innerHTML='<span class="dot"></span><span class="dot"></span><span class="dot"></span>'; chatLog.appendChild(t); chatLog.scrollTop = chatLog.scrollHeight; }
      else if(t){ t.remove(); }
    }
    
    function botGreeting(){
      let greetingText, tipText;
      
      if (currentLanguage === 'cs') {
        greetingText = '<b>Vítejte v King House Travel!</b><br/>Jak vám mohu pomoci? — <i>Ceny</i>, <i>Středomořské wellness</i>, <i>Platba</i>, <i>Rezervace</i>, <i>Kontakt</i>.';
        tipText = '<small>Tip: Použijte tlačítko Jazyk v záhlaví pro jakýkoli jazyk.</small>';
      } else if (currentLanguage === 'it') {
        greetingText = '<b>Benvenuto in King House Travel!</b><br/>Come posso aiutarti? — <i>Prezzi</i>, <i>Wellness Mediterraneo</i>, <i>Pagamento</i>, <i>Prenota</i>, <i>Contatto</i>.';
        tipText = '<small>Suggerimento: Usa il pulsante Lingua nell\'intestazione per qualsiasi lingua.</small>';
      } else {
        greetingText = '<b>Welcome to King House Travel!</b><br/>How can I help? — <i>Prices</i>, <i>Mediterranean Wellness</i>, <i>Pay</i>, <i>Book</i>, <i>Contact</i>.';
        tipText = '<small>Tip: Use the Translate button in the header for any language.</small>';
      }
      
      addMsg('bot', greetingText + '<br/>' + tipText);
    }
    
    function handleUser(text){
      addMsg('user', escapeHTML(text));
      typing(true);
      setTimeout(()=>{ typing(false); route(text); }, 600);
    }
    
    function route(t){
      const s = t.toLowerCase();
      if(/price|цен|цiн|cena|prezzo/.test(s)) return replyPrice();
      if(/wellness|оздоров|здоров|láze|spa|benessere/.test(s)) return replyWellness();
      if(/pay|оплат|stripe|paypal|deposit|задат|передоплат|crypto|крипт|pagamento|acconto/.test(s)) return replyPay();
      if(/book|брон|заказ|rezerv|prenot/.test(s)) return replyBook();
      if(/human|agent|manager|контакт|агент|оператор|консульт|contatto|assistente/.test(s)) return replyContact();
      
      let helpText;
      if (currentLanguage === 'cs') {
        helpText = 'Zde je, co mohu udělat:<br>• Zobrazit <b>ceny</b> a typické služby zahrnuté v ceně<br>• Vysvětlit programy <b>Středomořského wellness</b><br>• Spustit <b>Platbu / Zálohu</b> (Stripe/PayPal/Crypto)<br>• Otevřít <b>rezervační formulář</b><br>• Spojit vás s <b>lidským agentem</b>.';
      } else if (currentLanguage === 'it') {
        helpText = 'Ecco cosa posso fare:<br>• Mostrare <b>prezzi</b> e servizi tipici inclusi<br>• Spiegare i programmi <b>Wellness Mediterraneo</b><br>• Avviare <b>Pagamento / Acconto</b> (Stripe/PayPal/Crypto)<br>• Aprire il <b>modulo di prenotazione</b><br>• Metterti in contatto con un <b>agente umano</b>.';
      } else {
        helpText = 'Here is what I can do:<br>• Show <b>prices</b> and typical inclusions<br>• Explain <b>Mediterranean Wellness</b> programs<br>• Start <b>Pay / Deposit</b> (Stripe/PayPal/Crypto)<br>• Open the <b>booking form</b><br>• Connect you with a <b>human agent</b>.';
      }
      
      addMsg('bot', helpText);
    }
    
    function replyPrice(){
      let priceText;
      if (currentLanguage === 'cs') {
        priceText = `Typická cenová hladina na osobu:<ul><li>Středomořské pobřeží: <b>€2,899–€5,400</b> (5★, západní slunce plavby, průvodci)</li><li>Amalfijské pobřeží: <b>€3,599–€6,800</b> (luxusní lodní výlety, citronové háje)</li><li>Chorvatské ostrovy: <b>€1,999–€3,800</b> (historická města, jachetní ubytování)</li></ul><small>Přesná nabídka po termínech/hostech. Chcete, abych otevřel rezervační formulář?</small>`;
      } else if (currentLanguage === 'it') {
        priceText = `Fascia di prezzo tipica a persona:<ul><li>Ritiro Costiero Mediterraneo: <b>€2,899–€5,400</b> (5★, crociere al tramonto, guide)</li><li>Esperienza Costiera Amalfitana: <b>€3,599–€6,800</b> (tour in barca di lusso, limoneti)</li><li>Isolitti Croati: <b>€1,999–€3,800</b> (città storiche, alloggi in yacht)</li></ul><small>Offerta esatta dopo date/ospiti. Vuoi che apra il modulo di prenotazione?</small>`;
      } else {
        priceText = `Typical price range per person:<ul><li>Mediterranean Coastal Retreat: <b>€2,899–€5,400</b> (5★, sunset cruises, guides)</li><li>Amalfi Coast Experience: <b>€3,599–€6,800</b> (luxury boat tours, lemon groves)</li><li>Croatian Islands Hopping: <b>€1,999–€3,800</b> (historic towns, yacht accommodations)</li></ul><small>Exact offer after dates/guests. Want me to open the booking form?</small>`;
      }
      addMsg('bot', priceText);
    }
    
    function replyWellness(){
      let wellnessText, addWellnessText;
      if (currentLanguage === 'cs') {
        wellnessText = `<b>Středomořské wellness</b> kombinuje thalassoterapii, zábaly z mořských řas, jógu, středomořskou dietu a meditaci. Standardní modul trvá 5–7 dní. Můžete si ho přidat k jakémukoli zájezdu jedním kliknutím.`;
        addWellnessText = 'Přidat Wellness';
      } else if (currentLanguage === 'it') {
        wellnessText = `<b>Wellness Mediterraneo</b> combina talassoterapia, bendaggi di alghe, yoga, dieta mediterranea e meditazione. Il modulo standard dura 5–7 giorni. Puoi aggiungerlo a qualsiasi tour con un clic.`;
        addWellnessText = 'Aggiungi Wellness';
      } else {
        wellnessText = `<b>Mediterranean Wellness</b> combines thalassotherapy, seaweed wraps, yoga, Mediterranean diet & mindfulness meditation. Standard module is 5–7 days. You can add it to any tour in one click.`;
        addWellnessText = 'Add Wellness';
      }
      addMsg('bot', wellnessText + `<br><button class='btn' onclick="document.querySelector('#wellness .btn').click()">${addWellnessText}</button>`);
    }
    
    function replyPay(){
      let payText, openPayText;
      if (currentLanguage === 'cs') {
        payText = `Můžete si zajistit termíny <b>zálohou</b>. Vyberte si <b>Stripe</b>, <b>PayPal</b> nebo <b>Krypto (BTC, ETH, USDT)</b>.`;
        openPayText = 'Otevřít Platbu / Zálohu';
      } else if (currentLanguage === 'it') {
        payText = `Puoi assicurare le date con un <b>acconto</b>. Scegli <b>Stripe</b>, <b>PayPal</b> o <b>Crypto (BTC, ETH, USDT)</b>.`;
        openPayText = 'Apri Pagamento / Acconto';
      } else {
        payText = `You can secure dates with a <b>deposit</b>. Choose <b>Stripe</b>, <b>PayPal</b>, or <b>Crypto (BTC, ETH, USDT)</b>.`;
        openPayText = 'Open Pay / Deposit';
      }
      addMsg('bot', payText + `<br><button class='btn' onclick="(function(){const a=document.querySelector('[href=\'#pay\']'); if(a){a.click()} })()">${openPayText}</button><br><small>Note: Live payments need backend keys (demo here).</small>`);
    }
    
    function replyBook(){
      let bookText, formText;
      if (currentLanguage === 'cs') {
        bookText = 'Skvěle! Otevřu <b>rezervační formulář</b>. Prosím, vyplňte jméno, e-mail, termíny a hosté.';
        formText = 'Rezervační formulář';
      } else if (currentLanguage === 'it') {
        bookText = 'Ottimo! Aprirò il <b>modulo di prenotazione</b>. Per favore compila nome, email, date e ospiti.';
        formText = 'Modulo di prenotazione';
      } else {
        bookText = 'Great! I will open the <b>booking form</b>. Please fill name, email, dates & guests.';
        formText = 'booking form';
      }
      addMsg('bot', bookText);
      setTimeout(()=>{ const el = document.getElementById('openBook'); if(el) el.click(); }, 300);
    }
    
    function replyContact(){
      let contactText;
      if (currentLanguage === 'cs') {
        contactText = `Zde sdílejte svůj e-mail/telefon a předám ho manažerovi. Nebo napište na <b>booking@kinghousetravel.example</b>. <br><small>(Nahraďte svou skutečnou adresou.)</small>`;
      } else if (currentLanguage === 'it') {
        contactText = `Condividi qui la tua email/telefono e la passerò a un manager. Oppure scrivi a <b>booking@kinghousetravel.example</b>. <br><small>(Sostituisci con il tuo indirizzo reale.)</small>`;
      } else {
        contactText = `Share your email/phone here and I will pass it to a manager. Or write to <b>booking@kinghousetravel.example</b>. <br><small>(Replace with your real address.)</small>`;
      }
      addMsg('bot', contactText);
    }
    
    function escapeHTML(str){ 
      return str.replace(/[&<>"']/g, s=>({
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#39;'
      }[s] || s));
    }
    
    chatSend.addEventListener('click', ()=>{ 
      if(chatField.value.trim()) { 
        handleUser(chatField.value.trim()); 
        chatField.value=''; 
        chatField.focus(); 
      } 
    });
    
    chatField.addEventListener('keydown', e=>{ 
      if(e.key==='Enter'){ 
        e.preventDefault(); 
        chatSend.click(); 
      } 
    });
    
    chipbar.addEventListener('click', (e)=>{ 
      const q = e.target.closest('.chip')?.dataset.q; 
      if(!q) return; 
      handleUser(q); 
    });
    
    const KEY='kht_chat_state_v1';
    function persist(){ 
      localStorage.setItem(KEY, chatLog.innerHTML); 
    }
    
    function restore(){ 
      const html = localStorage.getItem(KEY); 
      if(html){ 
        chatLog.innerHTML = html; 
      }
    }
    
    function saveOpen(v){ 
      localStorage.setItem(KEY+'_open', v? '1':'0'); 
    }
    
    function restoreOpen(){ 
      if(localStorage.getItem(KEY+'_open')==='1') { 
        openChat(); 
      }
    }
    
    restore(); 
    restoreOpen();
    if(!chatLog.children.length){ 
      botGreeting(); 
    }
  </script>
</body>
</html>