<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>King House Travel ‚Äî Spring Tours 2026</title>
  <meta name="description" content="Elite spring tours, blossom retreats, Mediterranean cruises, spa resorts. King House Travel ‚Äî luxury seasonal journeys across Europe." />
  <meta property="og:title" content="King House Travel ‚Äî Spring Tours 2026" />
  <meta property="og:description" content="Book elite spring tours with glass UI, music, and multilingual support." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://images.unsplash.com/photo-1523906834658-6e24ef2386f9?q=80&w=1600&auto=format&fit=crop" />
  <link rel="canonical" href="https://kinghousetravel.example/spring-2026" />
  <link rel="icon" href="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f33c.png">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- –ü—ñ–¥–∫–ª—é—á–∞—î–º–æ –±—ñ–ª—å—à —Å—Ç—Ä–∏–º–∞–Ω—ñ —à—Ä–∏—Ñ—Ç–∏ -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&family=Source+Sans+Pro:wght@300;400;600&display=swap" rel="stylesheet">
  
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    img-src 'self' https://images.unsplash.com https://cdn.jsdelivr.net https://i.ytimg.com data:;
    media-src 'self' https://cdn.pixabay.com;
    script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://js.stripe.com https://www.youtube.com https://www.paypal.com https://www.paypalobjects.com;
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com;
    frame-src https://js.stripe.com https://www.paypal.com https://commerce.coinbase.com https://www.youtube.com https://youtube.com https://www.youtube-nocookie.com;
    connect-src 'self' https://fonts.gstatic.com https://api.stripe.com https://api.coinbase.com https://www.youtube.com;
  " />
  
  <style>
    :root{
      /* –°–≤—ñ—Ç–ª–∞ –≤–µ—Å–Ω—è–Ω–∞ —Ç–µ–º–∞ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º - –æ–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è –ª—é–∫—Å–æ–≤–æ–≥–æ –≤–∏–≥–ª—è–¥—É */
      --bg:#eef6f0;                 /* +—Ç—Ä–æ—Ö–∏ muted –∑–∞–º—ñ—Å—Ç—å —á–∏—Å—Ç–æ –±—ñ–ª–æ–≥–æ –∑–µ–ª–µ–Ω–æ–≥–æ */
      --bg-alt:#d7eadc;
      --card:#ffffff4d;              /* –±—É–ª–æ #ffffffcc ‚Üí —Ç–æ–Ω—à–µ —Å–∫–ª–æ (~30% –∑–∞–ª–∏–≤–∫–∏) */
      --glass:rgba(76,175,80,.04);   /* –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤—É–∞–ª—å */
      --stroke:rgba(76,175,80,.12);  /* —Ç–æ–Ω—à–∏–π –±–æ—Ä–¥–µ—Ä */
      --text:#1a2f1f;                /* —Ç–µ–º–Ω—ñ—à–∏–π —Ç–µ–º–Ω–æ-–∑–µ–ª–µ–Ω–∏–π (–±–ª–∏–∂—á–µ –¥–æ —Ö–≤–æ–π–Ω–æ–≥–æ) */
      --text-heading:#0f1f0f;        /* –º–∞–π–∂–µ —á–æ—Ä–Ω–∏–π –∑ –∑–µ–ª–µ–Ω–∏–º –≤—ñ–¥—Ç—ñ–Ω–∫–æ–º */
      --text-weak:#2d4a3d;           /* –¥–ª—è –æ–ø–∏—Å—ñ–≤, —Ç–µ–º–Ω–∏–π –∑–µ–ª–µ–Ω–∏–π */
      --text-on-accent:#0a140a;       /* –¥–ª—è —Ç–µ–∫—Å—Ç—É –Ω–∞ –∑–æ–ª–æ—Ç–∏—Ö/–∫–æ—Ä–∞–ª–æ–≤–∏—Ö –µ–ª–µ–º–µ–Ω—Ç–∞—Ö */
      --muted:#3e6a4c;               /* –ø—Ä–∏–≥–ª—É—à–µ–Ω–∏–π –∑–µ–ª–µ–Ω–∏–π –¥–ª—è –æ–ø–∏—Å—ñ–≤ */
      --accent:#FF9E80;              /* –ª–∏—à–∞—î–º–æ, –∞–ª–µ –∑–º–µ–Ω—à–∏–º–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è */
      --accent-secondary:#CBA7D8;    /* –ª–µ–≥—à–∏–π —Ñ—ñ–æ–ª–µ—Ç–æ–≤–∏–π */
      --gold:#F7C959;                /* –º'—è–∫—à–∏–π –∑–æ–ª–æ—Ç–∏–π */
      --shadow:0 8px 26px rgba(0,0,0,.10); /* –ª–µ–≥—à–∞ —Ç—ñ–Ω—å */
      --radius:18px;
      
      /* –ù–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ –¥–ª—è —à—Ä–∏—Ñ—Ç—ñ–≤ */
      --font-primary: 'Source Sans Pro', sans-serif;  /* –æ—Å–Ω–æ–≤–Ω–∏–π —à—Ä–∏—Ñ—Ç */
      --font-heading: 'Playfair Display', serif;      /* —à—Ä–∏—Ñ—Ç –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤ */
      --font-weight-light: 300;      /* –ª–µ–≥–∫–∞ –≤–∞–≥–∞ */
      --font-weight-regular: 400;    /* –∑–≤–∏—á–∞–π–Ω–∞ –≤–∞–≥–∞ */
      --font-weight-semibold: 600;   /* –Ω–∞–ø—ñ–≤–∂–∏—Ä–Ω–∞ –≤–∞–≥–∞ */
      --font-weight-bold: 600;       /* –∂–∏—Ä–Ω–∞ –≤–∞–≥–∞ (–∑–∞–º—ñ—Å—Ç—å 700-800) */
    }
    /* –¢–µ–º–Ω–∞ —Ç–µ–º–∞ - –∑ –ø–æ–∫—Ä–∞—â–µ–Ω–æ—é —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—é —à—Ä–∏—Ñ—Ç—ñ–≤ */
    body.dark-theme{
      --bg:#0a1f0f;          /* –≥–ª–∏–±–æ–∫–∏–π —Ç–µ–º–Ω–æ-–∑–µ–ª–µ–Ω–∏–π */
      --bg-alt:#05140a;      /* —â–µ –≥–ª–∏–±—à–∏–π –∑–µ–ª–µ–Ω–∏–π */
      --card:#0f2f1f99;      /* –±—ñ–ª—å—à –ø—Ä–æ–∑–æ—Ä–∏–π —Ç–µ–º–Ω–∏–π */
      --glass:rgba(76, 175, 80, 0.05); /* –±—ñ–ª—å—à –ø—Ä–æ–∑–æ—Ä–∏–π */
      --stroke:rgba(76, 175, 80, 0.15); /* —Ç–æ–Ω—à–∞ —Ä–∞–º–∫–∞ */
      --text:#f0f0f0;        /* –∑–Ω–∞—á–Ω–æ —Å–≤—ñ—Ç–ª—ñ—à–∏–π —Ç–µ–∫—Å—Ç –¥–ª—è –∫—Ä–∞—â–æ—ó —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ */
      --text-heading:#ffffff; /* —á–∏—Å—Ç–æ –±—ñ–ª–∏–π –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤ */
      --text-weak:#c0c0c0;    /* —Å–≤—ñ—Ç–ª–æ-—Å—ñ—Ä–∏–π –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ —Ç–µ–∫—Å—Ç—É */
      --muted:#81c784;       /* —è—Å–∫—Ä–∞–≤—ñ—à–∏–π –∑–µ–ª–µ–Ω–∏–π –¥–ª—è –∞–∫—Ü–µ–Ω—Ç—ñ–≤ */
      --accent:#ffab91;      /* —Å–≤—ñ—Ç–ª—ñ—à–∏–π —Ä–æ–∂–µ–≤–∏–π */
      --accent-secondary:#ce93d8; /* —Å–≤—ñ—Ç–ª—ñ—à–∏–π —Ñ—ñ–æ–ª–µ—Ç–æ–≤–∏–π */
      --gold:#ffd54f;        /* —Å–≤—ñ—Ç–ª—ñ—à–∏–π –∑–æ–ª–æ—Ç–∏–π */
      --shadow:0 10px 35px rgba(0,0,0,.3);
      
      /* –ó–∞–ª–∏—à–∞—î–º–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ —à—Ä–∏—Ñ—Ç–∏ –¥–ª—è —Ç–µ–º–Ω–æ—ó —Ç–µ–º–∏ */
      --font-primary: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      --font-heading: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      --font-weight-light: 400;
      --font-weight-regular: 400;
      --font-weight-semibold: 600;
      --font-weight-bold: 700;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: var(--font-primary);
      font-weight: var(--font-weight-regular);
      color:var(--text);
      background: var(--bg);
      overflow-x:hidden;
    }
    @media (hover:hover) and (pointer:fine){
      body{ cursor: none; }
    }
    body.spring-sky .frost{background: radial-gradient(1000px 600px at 20% 10%, rgba(255,255,255,.22), transparent 60%),
                                     radial-gradient(900px 600px at 80% 90%,  rgba(255,255,255,.16), transparent 60%),
                                     linear-gradient(to bottom, rgba(200,230,201,.28), rgba(220,237,200,.10) 42%, rgba(200,230,201,.28));}
    body.spring-sky .petal-field{opacity:1} /* –ê–Ω—ñ–º–∞—Ü—ñ—è –ø–µ–ª—é—Å—Ç–æ–∫ —É –≤–µ—Å–Ω—è–Ω—ñ–π —Ç–µ–º—ñ */
    body.dark-theme .frost{background: radial-gradient(1200px 600px at 10% 10%, rgba(0,0,0,.2), transparent 60%), radial-gradient(900px 600px at 90% 90%, rgba(0,0,0,.15), transparent 60%), linear-gradient(to bottom, rgba(10, 31, 15,.7), rgba(10, 31, 15,.3) 40%, rgba(10, 31, 15,.8));}
    body.dark-theme .petal-field{opacity:0.7}
    .video-bg{position:fixed; inset:0; z-index:-2; width:100%; height:100%; overflow:hidden}
    .video-bg video{position:absolute; top:50%; left:50%; min-width:100%; min-height:100%; width:auto; height:auto; transform:translate(-50%, -50%); object-fit:cover; border:none}
    .video-overlay{position:fixed; inset:0; z-index:-1; background:rgba(255,255,255,0.12); pointer-events:none} /* –±—É–ª–æ .15 */
    body.dark-theme .video-overlay{ background: rgba(0,0,0,0.3); }
    .frost{position:fixed; inset:0; z-index:0; background: radial-gradient(1200px 600px at 10% 10%, rgba(255,255,255,.3), transparent 60%), radial-gradient(900px 600px at 90% 90%, rgba(255,255,255,.2), transparent 60%), linear-gradient(to bottom, rgba(220, 237, 200,.5), rgba(220, 237, 200,.15) 40%, rgba(220, 237, 200,.6)); pointer-events:none}
    .petal-field{position:fixed; inset:0; z-index:1; opacity:0; transition:opacity .6s ease; pointer-events:none}
    .petal{position:absolute; width:10px; height:10px; background:#FF9E80; border-radius:50% 0; box-shadow:0 0 8px #FF9E80; transform: rotate(45deg)}
    
    .wrap{max-width:1200px; margin:0 auto; padding:24px}
    header.top{display:flex; align-items:center; justify-content:space-between; gap:12px; position:sticky; top:0; z-index:5; padding:14px 16px; margin:-14px -16px 20px; background: linear-gradient(to bottom, rgba(220,237,200,.38), rgba(220,237,200,.18)); backdrop-filter: blur(8px); border-bottom:1px solid var(--stroke)}
    body.dark-theme header.top{background: linear-gradient(to bottom, rgba(10, 31, 15,.7), rgba(10, 31, 15,.4));}
    .brand{display:flex; align-items:center; gap:12px}
    .logo{width:42px; height:42px; border-radius:50%; display:flex; align-items:center; justify-content:center; overflow:hidden; background: radial-gradient(120% 120% at 30% 30%, #81c784, var(--muted) 55%, #4caf50 100%); border:1px solid #a5d6a7; box-shadow: 0 2px 12px rgba(76, 175, 80,.35), inset 0 0 4px rgba(255,255,255,.5)}
    .logo img{width:100%; height:100%; object-fit:cover; border-radius:50%}
    .title{font-family: var(--font-heading); font-weight: var(--font-weight-semibold); font-size:18px; line-height:1; color: var(--text-heading)}
    .title small{display:block; font-family: var(--font-primary); font-weight: var(--font-weight-regular); color:var(--gold)}
    .actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
    .btn{appearance:none; border:none; cursor:pointer; padding:10px 14px; border-radius:999px; font-family: var(--font-primary); font-weight: var(--font-weight-semibold); background: linear-gradient(45deg, var(--gold), rgba(247,201,89,.72)); color:var(--text-on-accent); box-shadow: 0 6px 16px rgba(247,201,89,.28); transition: transform .15s ease, box-shadow .15s ease}
    .btn:hover{transform:translateY(-2px); box-shadow:0 10px 22px rgba(247,201,89,.38)}
    .btn.ghost{background: rgba(255,255,255,.22); color:var(--text); border:1px solid var(--stroke); box-shadow:none}
    body.dark-theme .btn.ghost{background:rgba(255,255,255,.08); border:1px solid var(--stroke);}
    .btn.ghost:hover{background: rgba(255,255,255,.36)}
    body.dark-theme .btn.ghost:hover{background:rgba(255,255,255,.15)}
    .cart-btn{position:relative}
    .cart-count{position:absolute; top:-6px; right:-6px; background:var(--gold); color:var(--text-on-accent); border-radius:50%; font-size:12px; width:18px; height:18px; display:grid; place-items:center; font-weight:600}
    .hero{display:grid; gap:18px; padding:28px; border-radius:var(--radius); background: linear-gradient(180deg, rgba(255,255,255,.34), rgba(255,255,255,.18)); border:1px solid rgba(76,175,80,.14); backdrop-filter: blur(8px) saturate(0.95); box-shadow: var(--shadow)}
    body.dark-theme .hero{background: linear-gradient(180deg, rgba(15, 47, 31,.6), rgba(15, 47, 31,.3));}
    .hero h1{font-family: var(--font-heading); font-size: clamp(32px, 4vw, 56px); line-height:1.05; font-weight: var(--font-weight-bold); letter-spacing:.2px; color: var(--text-heading)}
    .hero h1 .gold{color:var(--accent); text-shadow:0 2px 12px rgba(255, 158, 128,.35)}
    .hero p{font-family: var(--font-primary); font-weight: var(--font-weight-regular); color:var(--text-weak); max-width:60ch}
    .cta-row{display:flex; gap:12px; flex-wrap:wrap; margin-top:6px}
    .grid{display:grid; gap:22px; margin:28px 0; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr))}
    .card{background: var(--card); border:1px solid rgba(76,175,80,.14); border-radius:var(--radius); overflow:hidden; box-shadow: 0 10px 24px rgba(0,0,0,.10); transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease}
    .card:hover{ transform: translateY(-6px); border-color: rgba(255,158,128,.35); box-shadow: 0 14px 34px rgba(0,0,0,.14)}
    .card .img{height:190px; background-size:cover; background-position:center}
    .card .body{padding:16px}
    .card h3{font-family: var(--font-heading); font-size:18px; margin-bottom:6px; font-weight: var(--font-weight-semibold); color:#ff9e80cc}              /* –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º–µ–Ω—à ¬´–∫–∏—Å–ª–æ—Ç–Ω–∏–π¬ª */
    .card p{font-family: var(--font-primary); font-size:14px; color:var(--text-weak); line-height:1.5; font-weight: var(--font-weight-regular)}
    .price{display:inline-block; margin-top:10px; padding:6px 10px; border-radius:999px; background: rgba(255,158,128,.12); color:var(--text-on-accent); font-family: var(--font-primary); font-weight: var(--font-weight-semibold)}
    .buy{margin-top:12px; display:flex; gap:8px}
    .wellness{display:grid; gap:16px; padding:28px; border-radius:22px; background: linear-gradient(180deg, rgba(255,255,255,.34), rgba(255,255,255,.18)); border:1px solid rgba(76,175,80,.14); backdrop-filter: blur(8px) saturate(0.95); box-shadow: var(--shadow); margin: 10px 0 28px}
    body.dark-theme .wellness{background: linear-gradient(180deg, rgba(15, 47, 31,.6), rgba(15, 47, 31,.3));}
    .wellness h2{font-family: var(--font-heading); font-size: clamp(26px, 3.2vw, 40px); font-weight: var(--font-weight-bold); color: var(--text-heading)}
    .pill{display:inline-block; padding:8px 12px; border-radius:999px; border:1px solid var(--stroke); background:rgba(255,255,255,.3); margin-right:8px; margin-top:8px; font-family: var(--font-primary); font-weight: var(--font-weight-regular); color:var(--text)}
    body.dark-theme .pill{background:rgba(255,255,255,.08);}
    .festivals{display:grid; gap:16px; padding:28px; border-radius:22px; background: linear-gradient(180deg, rgba(255,255,255,.34), rgba(255,255,255,.18)); border:1px solid rgba(76,175,80,.14); backdrop-filter: blur(8px) saturate(0.95); box-shadow: var(--shadow); margin: 10px 0 28px}
    body.dark-theme .festivals{background: linear-gradient(180deg, rgba(15, 47, 31,.6), rgba(15, 47, 31,.3));}
    .festivals h2{font-family: var(--font-heading); font-size: clamp(26px, 3.2vw, 40px); font-weight: var(--font-weight-bold); color: var(--accent-secondary)}
    .festival-item{display:flex; align-items:center; gap:12px; margin-top:12px}
    .festival-date{min-width:100px; padding:6px 10px; border-radius:999px; background:var(--accent-secondary); color:white; font-family: var(--font-primary); font-weight: var(--font-weight-semibold); text-align:center}
    .festival-info{flex:1}
    .festival-info h4{font-family: var(--font-heading); font-weight: var(--font-weight-semibold); color: var(--text-heading)}
    .festival-info p{font-family: var(--font-primary); font-weight: var(--font-weight-regular); color: var(--text-weak)}
    .countdown{display:flex; justify-content:center; gap:20px; margin:20px 0; padding:15px; border-radius:var(--radius); background: linear-gradient(45deg, var(--accent), var(--accent-secondary)); color:white; font-family: var(--font-primary); font-weight: var(--font-weight-semibold)}
    .countdown-item{text-align:center}
    .countdown-value{font-size:24px; display:block}
    .countdown-label{font-size:12px; opacity:0.8}
    footer{margin:32px 0 18px; text-align:center; color:#4caf50aa; font-family: var(--font-primary); font-weight: var(--font-weight-regular)}
    body.dark-theme footer{color:#81c784aa}
    .company-info{margin-top:40px; padding:20px; border-radius:var(--radius); background: linear-gradient(180deg, rgba(255,255,255,.34), rgba(255,255,255,.18)); border:1px solid rgba(76,175,80,.14); backdrop-filter: blur(8px) saturate(0.95); box-shadow: var(--shadow)}
    body.dark-theme .company-info{background: linear-gradient(180deg, rgba(15, 47, 31,.6), rgba(15, 47, 31,.3));}
    .company-info h3{font-family: var(--font-heading); color:var(--accent); margin-bottom:12px; font-size:20px; font-weight: var(--font-weight-semibold)}
    .company-info p{font-family: var(--font-primary); color:var(--text-weak); line-height:1.6; font-weight: var(--font-weight-regular)}
    .developer-info{margin-top:15px; padding-top:15px; border-top:1px solid rgba(76,175,80,.14); font-size:14px; color:var(--muted); font-family: var(--font-primary); font-weight: var(--font-weight-regular)}
    .developer-info a{color:var(--accent); text-decoration:none; font-weight: var(--font-weight-semibold)}
    .developer-info a:hover{text-decoration:underline}
    .modal{position:fixed; inset:0; display:none; place-items:center; z-index:20; background: rgba(255,255,255,.4); backdrop-filter: blur(8px)}
    body.dark-theme .modal{background: rgba(0,0,0,.7);}
    .modal.open{display:grid}
    .sheet{width:min(720px, 92vw); background: var(--card); border:1px solid var(--stroke); border-radius:24px; padding:22px; box-shadow: 0 30px 80px rgba(0,0,0,.2)}
    .sheet h2{font-family: var(--font-heading); margin-bottom:6px; font-weight: var(--font-weight-semibold); color: var(--text-heading)}
    .form{display:grid; gap:12px; margin-top:10px}
    .row{display:grid; gap:12px; grid-template-columns:1fr 1fr}
    .row .full{grid-column:1 / -1}
    input, select, textarea{width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--stroke); background: rgba(255,255,255,.30); color:var(--text); font-family: var(--font-primary); font-weight: var(--font-weight-regular); outline:none}
    body.dark-theme input, body.dark-theme select, body.dark-theme textarea{background:rgba(255,255,255,.08); color:var(--text);}
    textarea{min-height:90px; resize:vertical}
    .payrow{display:flex; gap:10px; flex-wrap:wrap}
    .cart-item{display:grid; gap:8px; padding:12px; border-bottom:1px solid var(--stroke)}
    .cart-item:last-child{border-bottom:none}
    .cart-item button{font-size:12px; padding:6px 10px}
    @media (max-width:720px){ .row{grid-template-columns:1fr} }
    .cursor-dot{position:fixed; top:0; left:0; width:30px; height:30px; margin-top:-15px; margin-left:-15px; border-radius:50%; pointer-events:none; background: radial-gradient(circle, #FF9E80, #FF9E8000 70%); mix-blend-mode: screen; opacity:0.9; z-index:50; transition: transform 0.1s ease; box-shadow: 0 0 15px rgba(255, 158, 128, 0.7)}
    .cursor-dot.dark-theme-cursor{background: radial-gradient(circle, #ffab91, #ffab9100 70%) !important; box-shadow: 0 0 15px rgba(255, 171, 145, 0.7) !important}
    .chat-launcher{position:fixed; right:18px; bottom:18px; z-index:60; border:0; border-radius:999px; padding:14px 16px; background:linear-gradient(45deg, var(--accent), rgba(255, 158, 128, 0.8)); color:white; font-family: var(--font-primary); font-weight: var(--font-weight-semibold); box-shadow:0 12px 30px rgba(255, 158, 128,.45); cursor:pointer}
    .chatbox{position:fixed; right:18px; bottom:82px; width:min(380px, 92vw); height:520px; display:none; grid-template-rows:auto 1fr auto; background:var(--card); border:1px solid var(--stroke); border-radius:16px; overflow:hidden; z-index:60; box-shadow:0 30px 80px rgba(0,0,0,.2)}
    .chatbox.open{display:grid}
    .chat-header{display:flex; align-items:center; justify-content:space-between; gap:8px; padding:10px 12px; background:linear-gradient(to right, rgba(220, 237, 200,.6), rgba(220, 237, 200,.35)); border-bottom:1px solid var(--stroke)}
    body.dark-theme .chat-header{background:linear-gradient(to right, rgba(10, 31, 15,.7), rgba(10, 31, 15,.4));}
    .chat-header .ttl{font-family: var(--font-heading); font-weight: var(--font-weight-semibold)}
    .chat-header .ttl small{display:block; font-family: var(--font-primary); font-weight: var(--font-weight-regular); color:var(--gold)}
    .chat-messages{padding:12px; overflow:auto; display:flex; flex-direction:column; gap:8px; scroll-behavior:smooth}
    .msg{max-width:85%; padding:10px 12px; border-radius:14px; line-height:1.45; box-shadow:var(--shadow); font-family: var(--font-primary); font-weight: var(--font-weight-regular)}
    .msg.bot{align-self:flex-start; background: rgba(255,255,255,.24); border:1px solid var(--stroke)}
    body.dark-theme .msg.bot{background:rgba(255,255,255,.08);}
    .msg.user{align-self:flex-end; background:linear-gradient(45deg, var(--accent), rgba(255, 158, 128, 0.8)); color:white; font-weight: var(--font-weight-semibold)}
    .msg small{display:block; opacity:.7; font-size:11px; margin-top:4px}
    .chat-input{display:flex; gap:8px; padding:10px; border-top:1px solid var(--stroke); background: rgba(255,255,255,.10)}
    body.dark-theme .chat-input{background:rgba(255,255,255,.03);}
    .chat-input input{flex:1; padding:10px 12px; border-radius:12px; border:1px solid var(--stroke); background: rgba(255,255,255,.40); color:var(--text); font-family: var(--font-primary); font-weight: var(--font-weight-regular)}
    body.dark-theme .chat-input input{background:rgba(255,255,255,.08); color:var(--text);}
    .chipbar{display:flex; flex-wrap:wrap; gap:6px; padding:6px 10px; border-top:1px dashed var(--stroke); background: rgba(255,255,255,.08)}
    body.dark-theme .chipbar{background:rgba(255,255,255,.03);}
    .chip{border:1px solid var(--stroke); background: rgba(255,255,255,.20); color:var(--text); padding:6px 10px; border-radius:999px; font-size:12px; cursor:pointer; font-family: var(--font-primary); font-weight: var(--font-weight-regular)}
    body.dark-theme .chip{background:rgba(255,255,255,.08);}
    .typing{display:flex; align-items:center; gap:6px; opacity:.8}
    .dot{width:6px; height:6px; border-radius:50%; background:#4caf50; opacity:.8; animation:blink 1s infinite ease-in-out}
    body.dark-theme .dot{background:#81c784;}
    .dot:nth-child(2){animation-delay:.2s} .dot:nth-child(3){animation-delay:.4s}
    @keyframes blink{0%,80%,100%{opacity:.2} 40%{opacity:1}}
    
    /* Language selector styles */
    .language-selector {
      position: relative;
      display: inline-block;
    }
    
    .language-btn {
      display: flex;
      align-items: center;
      gap: 6px;
      background: rgba(255,255,255,.3);
      color: var(--text);
      border: 1px solid var(--stroke);
      border-radius: 999px;
      padding: 10px 14px;
      font-family: var(--font-primary);
      font-weight: var(--font-weight-regular);
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    body.dark-theme .language-btn {
      background: rgba(255,255,255,.08);
    }
    
    .language-btn:hover {
      background: rgba(255,255,255,.5);
    }
    
    body.dark-theme .language-btn:hover {
      background: rgba(255,255,255,.15);
    }
    
    .language-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      margin-top: 8px;
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: 12px;
      box-shadow: 0 10px 25px rgba(0,0,0,.15);
      overflow: hidden;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.25s ease;
      z-index: 100;
      min-width: 160px;
    }
    
    .language-dropdown.active {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }
    
    .language-option {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 16px;
      cursor: pointer;
      transition: background 0.2s ease;
      font-family: var(--font-primary);
      font-weight: var(--font-weight-regular);
    }
    
    .language-option:hover {
      background: rgba(255,255,255,.5);
    }
    
    body.dark-theme .language-option:hover {
      background: rgba(255,255,255,.1);
    }
    
    .language-option.active {
      background: rgba(255, 158, 128,.15);
      color: var(--accent);
      font-weight: var(--font-weight-semibold);
    }
    
    .language-flag {
      font-size: 18px;
    }
    
    /* –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Å—Ç–∏–ª—ñ –¥–ª—è —Å–≤—ñ—Ç–ª–æ—ó —Ç–µ–º–∏ */
    body.spring-sky .petal{ width:8px; height:8px; filter: blur(.6px); opacity:.24; }
    
    /* –ü—Ä–∏–≥–ª—É—à–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç—É –≤—ñ–¥–µ–æ –¥–ª—è —Å–≤—ñ—Ç–ª–æ—ó —Ç–µ–º–∏ */
    body.spring-sky .video-bg video{
      filter: saturate(.92) brightness(.96);
    }
    
    /* –¢–µ–∫—Å—Ç–æ–≤–∞ —Ç—ñ–Ω—å –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤ –ø—Ä–∏ –ø–æ—Ç—Ä–µ–±—ñ */
    .hero h1 {
      text-shadow: 0 1px 2px rgba(0,0,0,.08);
    }
    
    /* –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —à—Ä–∏—Ñ—Ç—ñ–≤ –¥–ª—è –≤—Å—ñ—Ö –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤ */
    h1, h2, h3, h4, h5, h6 {
      font-family: var(--font-heading);
      font-weight: var(--font-weight-semibold);
      color: var(--text-heading);
    }
    
    /* –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è —à—Ä–∏—Ñ—Ç—ñ–≤ –¥–ª—è –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ñ–≤ —Ç–∞ —ñ–Ω—à–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ */
    p, span, small, label, input, select, textarea, .msg, .chip, .language-option {
      font-family: var(--font-primary);
      font-weight: var(--font-weight-regular);
    }
    
    /* –°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –≤–∞–≥–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ */
    .btn, .cart-count, .price, .festival-date, .countdown {
      font-weight: var(--font-weight-semibold);
    }
    
    .hero h1, .wellness h2, .festivals h2, .sheet h2, .chat-header .ttl {
      font-weight: var(--font-weight-bold);
    }
    
    /* –õ–µ–≥—à–∞ –≤–∞–≥–∞ –¥–ª—è –æ–ø–∏—Å—ñ–≤ */
    .card p, .hero p, .company-info p, .msg small {
      font-weight: var(--font-weight-light);
    }
    
    /* === Readability patch (light / spring only) === */
    /* 1) –¢–µ–º–Ω—ñ—à—ñ —Ç–µ–∫—Å—Ç–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ + –º–µ–Ω—à–µ –∑–µ–ª–µ–Ω–æ–≥–æ —É –∫–æ—Ä–ø—É—Å–Ω–æ–º—É —Ç–µ–∫—Å—Ç—ñ */
    :root{
      --text:#1a2f1f;              /* —Ç–µ–º–Ω—ñ—à–∏–π —Ç–µ–º–Ω–æ-–∑–µ–ª–µ–Ω–∏–π (–±–ª–∏–∂—á–µ –¥–æ —Ö–≤–æ–π–Ω–æ–≥–æ) */
      --text-heading:#0f1f0f;        /* –º–∞–π–∂–µ —á–æ—Ä–Ω–∏–π –∑ –∑–µ–ª–µ–Ω–∏–º –≤—ñ–¥—Ç—ñ–Ω–∫–æ–º */
      --text-weak:#2d4a3d;           /* –¥–ª—è –æ–ø–∏—Å—ñ–≤, —Ç–µ–º–Ω–∏–π –∑–µ–ª–µ–Ω–∏–π */
      --text-on-accent:#0a140a;       /* –¥–ª—è —Ç–µ–∫—Å—Ç—É –Ω–∞ –∑–æ–ª–æ—Ç–∏—Ö/–∫–æ—Ä–∞–ª–æ–≤–∏—Ö –µ–ª–µ–º–µ–Ω—Ç–∞—Ö */
    }
    body.spring-sky{
      color:var(--text);
    }
    body.spring-sky .hero p,
    body.spring-sky .card p,
    body.spring-sky .company-info p{ color:var(--text-weak); }
    /* 2) –ü—ñ–¥—Å–∏–ª—é–≤–∞—á —Ñ–æ–Ω—É –ø—ñ–¥ —Ç–µ–∫—Å—Ç–æ–º –∫–∞—Ä—Ç–æ–∫ (–±–µ–∑ –≤—Ç—Ä–∞—Ç–∏ –ø—Ä–æ–∑–æ—Ä–æ—Å—Ç—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è) */
    body.spring-sky .card .img{
      position: relative;
    }
    body.spring-sky .card .img::after{
      /* –º'—è–∫–∞ –≤—É–∞–ª—å, —â–æ —Ç–µ–º–Ω–∏—Ç—å –∑–æ–Ω—É –ø—ñ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º/–æ–ø–∏—Å–æ–º */
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(
        to bottom,
        rgba(0,0,0,0.00) 40%,
        rgba(0,0,0,0.10) 62%,
        rgba(0,0,0,0.16) 100%
      );
      pointer-events:none;
    }
    body.spring-sky .card .body{
      /* —Å–≤—ñ—Ç–ª–∞ –ø—ñ–¥–∫–ª–∞–¥–∫–∞ —Ç—ñ–ª—å–∫–∏ –ø—ñ–¥ —Ç–µ–∫—Å—Ç–æ–º ‚Äî –Ω–µ ¬´–ø–ª–∞—Å—Ç–∏–∫–æ–≤–∞¬ª */
      background: linear-gradient(
        to top,
        rgba(255,255,255,.50) 0%,
        rgba(255,255,255,.36) 60%,
        rgba(255,255,255,.00) 100%
      );
      -webkit-backdrop-filter: blur(4px);
      backdrop-filter: blur(4px);
    }
    /* 3) –ó–∞–≥–æ–ª–æ–≤–∫–∏ ‚Äî —Ç–µ–º–Ω—ñ—à—ñ —Ç–∞ –∑ –ª–µ–¥–≤–µ –ø–æ–º—ñ—Ç–Ω–æ—é —Ç—ñ–Ω–Ω—é –ª–∏—à–µ –Ω–∞ —Å—Ç—Ä–æ–∫–∞—Ç–∏—Ö –∫–∞–¥—Ä–∞—Ö */
    body.spring-sky .card h3,
    body.spring-sky .festivals h2,
    body.spring-sky .wellness h2,
    body.spring-sky .hero h1{
      color:var(--text-heading);    /* –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –∑–º—ñ–Ω–Ω—É –∑–∞–º—ñ—Å—Ç—å –∂–æ—Ä—Å—Ç–∫–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è */
      text-shadow: 0 1px 2px rgba(0,0,0,.10);
    }
    /* 4) –ö–Ω–æ–ø–∫–∏/–±–µ–π–¥–∂—ñ ‚Äî —â–æ–± –ø—ñ–¥–ø–∏—Å–∏ –Ω–µ ¬´–∑–Ω–∏–∫–∞–ª–∏¬ª */
    body.spring-sky .btn,
    body.spring-sky .price{
      color: var(--text-on-accent);
    }
    body.spring-sky .btn.ghost{
      color: var(--text);
      border-color: rgba(30,60,40,.18);
    }
    /* 5) WCAG quick-fix: —è–∫—â–æ –Ω–∞ –¥–µ—è–∫–∏—Ö —Ñ–æ—Ç–æ —â–µ –±–ª—ñ–¥–æ ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ –ø—ñ–¥—Å–∏–ª–∏—Ç–∏ –∫–æ–Ω—Ç—Ä–∞—Å—Ç */
    @media (prefers-contrast: more){
      body.spring-sky .card .body{
        background: linear-gradient(to top, rgba(255,255,255,.58), rgba(255,255,255,.42) 60%, rgba(255,255,255,0) 100%);
      }
      body.spring-sky .card h3{ text-shadow: 0 1px 3px rgba(0,0,0,.16); }
    }
    /* —Ç–æ—á–∫–æ–≤–æ –¥–ª—è –ø—Ä–æ–±–ª–µ–º–Ω–æ—ó –∫–∞—Ä—Ç–∫–∏ */
    .card:nth-of-type(2) .img::after{ background:
      linear-gradient(to bottom, rgba(0,0,0,0) 35%, rgba(0,0,0,.14) 60%, rgba(0,0,0,.22) 100%);
    }
  </style>
</head>
<body>
  <div class="video-bg">
    <video 
      title="Spring tours background video"
      autoplay 
      muted 
      loop 
      playsinline
    >
      <source src="Flowers.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>
  <div class="video-overlay"></div>
  <div class="frost"></div>
  <div class="petal-field" id="petal-field"></div>
  <div class="wrap">
    <header class="top">
      <div class="brand">
        <div class="logo">
          <img src="log.jpg" alt="King House Travel Logo">
        </div>
        <div class="title">
          <span data-i18n="company-name">King House Travel</span> 
          <small data-i18n="season-title">Spring Tours 2026</small>
        </div>
      </div>
      <div class="actions">
        <button class="btn" id="openBook" data-i18n="buy-spring-tour">Buy Spring Tour</button>
        <button class="btn ghost" id="musicBtn" aria-pressed="false" aria-label="Toggle background music" data-i18n="music-off">Music: Off</button>
        <button class="btn ghost" id="themeBtn" title="Toggle theme" aria-label="Toggle theme" data-i18n="theme-dark">Theme: Dark üåô</button>
        
        <!-- Language selector -->
        <div class="language-selector">
          <button class="language-btn" id="languageBtn" aria-expanded="false" aria-label="Select language">
            <span class="language-flag" id="currentFlag">üá¨üáß</span>
            <span id="currentLang">EN</span>
            <span>‚ñº</span>
          </button>
          <div class="language-dropdown" id="languageDropdown">
            <div class="language-option active" data-lang="en">
              <span class="language-flag">üá¨üáß</span>
              <span data-i18n="lang-en">English</span>
            </div>
            <div class="language-option" data-lang="cs">
              <span class="language-flag">üá®üáø</span>
              <span data-i18n="lang-cs">Czech</span>
            </div>
            <div class="language-option" data-lang="it">
              <span class="language-flag">üáÆüáπ</span>
              <span data-i18n="lang-it">Italian</span>
            </div>
          </div>
        </div>
        
        <button class="btn ghost cart-btn" id="cartBtn" title="Cart" aria-label="Open cart">
          <span class="cart-count" id="cartCount">0</span>
          <span data-i18n="cart">Cart</span>
        </button>
      </div>
    </header>
    <section class="hero" aria-label="Hero" lang="en">
      <h1><span class="gold" data-i18n="elite-spring-journeys">Elite</span> <span data-i18n="spring-journeys-title">Spring Journeys ‚Äî Blossom, Riviera & Thermal Spas</span></h1>
      <p data-i18n="hero-description">Glass-clear luxury UI, curated 5‚òÖ stays, private transfers, and signature ‚ÄûSpring Renewal Wellness‚Äú programs. Book in one click ‚Äî multilingual and mobile-first. <strong>Bookings now open for 2026 season!</strong></p>
      <div class="cta-row">
        <button class="btn" id="heroBook" data-i18n="book-now">Book Now</button>
        <a class="btn ghost" href="#tours" data-i18n="explore-tours">Explore Tours</a>
      </div>
    </section>
    
    <!-- Countdown to Spring Special Offers -->
    <div class="countdown">
      <div class="countdown-item">
        <span class="countdown-value" id="days">15</span>
        <span class="countdown-label" data-i18n="days">Days</span>
      </div>
      <div class="countdown-item">
        <span class="countdown-value" id="hours">08</span>
        <span class="countdown-label" data-i18n="hours">Hours</span>
      </div>
      <div class="countdown-item">
        <span class="countdown-value" id="minutes">42</span>
        <span class="countdown-label" data-i18n="minutes">Minutes</span>
      </div>
      <div class="countdown-item">
        <span class="countdown-value" id="seconds">36</span>
        <span class="countdown-label" data-i18n="seconds">Seconds</span>
      </div>
    </div>
    
    <section id="tours" class="grid" aria-label="Spring tours">
      <article class="card">
        <div class="img" data-src="https://images.unsplash.com/photo-1522383225653-ed111181a951?q=80&w=1600&auto=format&fit=crop"></div>
        <div class="body">
          <h3 data-i18n="cherry-blossom-retreat">Cherry Blossom Retreat ¬∑ Japan</h3>
          <p lang="en" data-i18n="cherry-blossom-description">Experience sakura season in Kyoto & Tokyo. Private tea ceremonies, temple visits & guided photography. (2026 season)</p>
          <span class="price" data-i18n="price-from">from ‚Ç¨2,899</span>
          <div class="buy">
            <button class="btn buy-btn" data-tour="Cherry Blossom Retreat" data-price="2899" data-i18n="buy">Buy</button>
            <button class="btn ghost cart-add" data-tour="Cherry Blossom Retreat" data-price="2899" data-i18n="add-to-cart">Add to Cart</button>
          </div>
        </div>
      </article>
      <article class="card">
        <div class="img" data-src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?q=80&w=1600&auto=format&fit=crop"></div>
        <div class="body">
          <h3 data-i18n="mediterranean-cruise">Mediterranean Cruise ¬∑ Greek Islands</h3>
          <p lang="en" data-i18n="mediterranean-description">Luxury yacht through Greek islands. Private beaches, ancient ruins & sunset dining on deck. (2026 season)</p>
          <span class="price" data-i18n="price-from">from ‚Ç¨3,599</span>
          <div class="buy">
            <button class="btn buy-btn" data-tour="Mediterranean Cruise" data-price="3599" data-i18n="buy">Buy</button>
            <button class="btn ghost cart-add" data-tour="Mediterranean Cruise" data-price="3599" data-i18n="add-to-cart">Add to Cart</button>
          </div>
        </div>
      </article>
      <article class="card">
        <div class="img" data-src="https://images.unsplash.com/photo-1583422409516-2895a77efded?q=80&w=1600&auto=format&fit=crop"></div>
        <div class="body">
          <h3 data-i18n="thermal-spa-experience">Thermal Spa Experience ¬∑ Budapest</h3>
          <p lang="en" data-i18n="thermal-spa-description">Historic thermal baths, wellness treatments & Danube river cruises. Luxury spa hotels included. (2026 season)</p>
          <span class="price" data-i18n="price-from">from ‚Ç¨1,999</span>
          <div class="buy">
            <button class="btn buy-btn" data-tour="Thermal Spa Experience" data-price="1999" data-i18n="buy">Buy</button>
            <button class="btn ghost cart-add" data-tour="Thermal Spa Experience" data-price="1999" data-i18n="add-to-cart">Add to Cart</button>
          </div>
        </div>
      </article>
    </section>
    
    <!-- Spring Festivals Section -->
    <section class="festivals" id="festivals" lang="en">
      <h2><span data-i18n="spring-festivals">Spring Festivals</span> <span data-i18n="europe-2026">Europe 2026</span></h2>
      <p data-i18n="festivals-description">Experience Europe's most vibrant spring festivals with our exclusive tours. From flower celebrations to cultural events, we offer premium access to the season's highlights.</p>
      
      <div class="festival-item">
        <div class="festival-date" data-i18n="april-15">Apr 15-22</div>
        <div class="festival-info">
          <h4 data-i18n="keukenhof-festival">Keukenhof Flower Festival</h4>
          <p data-i18n="keukenhof-description">Tulip fields & garden exhibitions in Netherlands with private guided tours.</p>
        </div>
      </div>
      
      <div class="festival-item">
        <div class="festival-date" data-i18n="may-1">May 1-7</div>
        <div class="festival-info">
          <h4 data-i18n="cannes-film">Cannes Film Festival</h4>
          <p data-i18n="cannes-description">Exclusive access to screenings & events on the French Riviera.</p>
        </div>
      </div>
      
      <div class="festival-item">
        <div class="festival-date" data-i18n="may-20">May 20-28</div>
        <div class="festival-info">
          <h4 data-i18n="flower-carpet">Brussels Flower Carpet</h4>
          <p data-i18n="flower-carpet-description">Biennial event with stunning floral arrangements in Grand Place.</p>
        </div>
      </div>
      
      <div class="cta-row">
        <a class="btn" href="#openBook" data-i18n="book-festival-tour">Book Festival Tour</a>
        <a class="btn ghost" href="#tours" data-i18n="see-all-tours">See All Tours</a>
      </div>
    </section>
    
    <section class="wellness" id="wellness" lang="en">
      <h2><span class="gold" data-i18n="spring-renewal-wellness">Spring Renewal Wellness</span> <span data-i18n="programs">Programs</span></h2>
      <p data-i18n="wellness-description">Rejuvenation programs designed with wellness experts. Combine <strong data-i18n="aromatherapy">aromatherapy</strong>, <strong data-i18n="hydrotherapy">hydrotherapy</strong>, <strong data-i18n="yoga-sessions">yoga sessions</strong>, <strong data-i18n="nutrition-coaching">nutrition coaching</strong>, and <strong data-i18n="mindfulness-meditation">mindfulness meditation</strong> for renewed energy in 5‚Äì7 days. (Available for 2026 tours)</p>
      <div>
        <span class="pill" data-i18n="aromatherapy">Aromatherapy</span>
        <span class="pill" data-i18n="hydrotherapy">Hydrotherapy</span>
        <span class="pill" data-i18n="yoga-sessions">Yoga Sessions</span>
        <span class="pill" data-i18n="nutrition-coaching">Nutrition Coaching</span>
        <span class="pill" data-i18n="mindfulness-meditation">Mindfulness Meditation</span>
      </div>
      <div class="cta-row">
        <a class="btn" href="#pay" data-i18n="add-to-booking">Add to Booking</a>
        <a class="btn ghost" href="#openBook" data-i18n="ask-specialist">Ask Specialist</a>
      </div>
    </section>
    
    <!-- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ–º–ø–∞–Ω—ñ—é -->
    <section class="company-info" lang="en">
      <h3 data-i18n="about-company">About King House Travel</h3>
      <p data-i18n="company-description">Founded in 2010, King House Travel specializes in luxury seasonal journeys across Europe's most breathtaking destinations. With over a decade of experience, we curate exclusive spring experiences that combine natural beauty, cultural immersion, and rejuvenating wellness. Our expert team ensures every detail of your journey is meticulously planned, from private transfers to 5-star accommodations and unique local experiences. We pride ourselves on creating unforgettable memories for our discerning clientele.</p>
      
      <div class="developer-info">
        <p>Website designed and developed by <a href="https://www.linkedin.com/in/tetiana-kotolup-1685892a1/" target="_blank" rel="noopener noreferrer">Tetiana Kotolup</a></p>
      </div>
    </section>
    
    <footer lang="en">
      <span data-i18n="copyright">¬© 2026 King House Travel. All rights reserved.</span>
      <div class="developer-info">
        <p>Website by <a href="https://www.linkedin.com/in/tetiana-kotolup-1685892a1/" target="_blank" rel="noopener noreferrer">Tetiana Kotolup</a></p>
      </div>
    </footer>
  </div>
  <div class="modal" id="bookModal" aria-hidden="true" aria-labelledby="bookTitle" role="dialog">
    <div class="sheet">
      <h2 id="bookTitle" data-i18n="book-spring-tour">Book Spring Tour</h2>
      <p id="tourPicked" style="color:var(--muted)" data-i18n="selected-tour">Selected tour: <b>‚Äî</b></p>
      <form class="form" id="bookForm">
        <div class="row">
          <input type="text" name="name" data-i18n-placeholder="full-name" placeholder="Full name" required />
          <input type="email" name="email" data-i18n-placeholder="email" placeholder="Email" required />
        </div>
        <div class="row">
          <input type="tel" name="phone" data-i18n-placeholder="phone" placeholder="+420‚Ä¶" />
          <select name="guests" required>
            <option value="" disabled selected data-i18n="guests">Guests</option>
            <option>1</option><option>2</option><option>3</option><option>4+</option>
          </select>
        </div>
        <div class="row">
          <input type="date" name="date" class="full" required />
        </div>
        <textarea name="notes" data-i18n-placeholder="preferences" placeholder="Preferences (spa, excursions, transfers)‚Ä¶"></textarea>
        <div class="row">
          <button type="submit" class="btn" data-i18n="send-request">Send Request</button>
          <button type="button" class="btn ghost" id="closeModal" data-i18n="close">Close</button>
        </div>
        <small style="color:var(--muted)" data-i18n="confirm-availability">We'll confirm availability & payment options by email/phone.</small>
      </form>
    </div>
  </div>
  <div id="pay" class="modal" aria-hidden="true" role="dialog">
    <div class="sheet">
      <h2 data-i18n="pay-deposit">Pay / Deposit</h2>
      <p style="color:var(--muted); margin-bottom:8px" data-i18n="pay-description">Secure your spot with a deposit. Choose Stripe, PayPal, or Crypto (BTC, ETH, USDT). (Demo only ‚Äî connect keys on your server.)</p>
      <div class="payrow">
        <button class="btn" id="stripePay" data-i18n="pay-with-stripe">Pay with Stripe</button>
        <button class="btn ghost" id="paypalPay" data-i18n="pay-with-paypal">Pay with PayPal</button>
        <button class="btn ghost" id="cryptoPay" data-i18n="pay-with-crypto">Pay with Crypto</button>
        <button class="btn ghost" id="closePay" data-i18n="close">Close</button>
      </div>
      <small style="display:block; margin-top:10px; color:var(--muted)" data-i18n="payment-backend-info">To go live: create backend endpoints for Stripe (PaymentIntent), PayPal (Order), or Coinbase Commerce (Charge).</small>
    </div>
  </div>
  <div id="cartModal" class="modal" aria-hidden="true" role="dialog">
    <div class="sheet">
      <h2 data-i18n="cart">Cart</h2>
      <p style="color:var(--muted)" data-i18n="cart-description">Your selected tours for Spring 2026</p>
      <div id="cartItems"></div>
      <p id="cartTotal" style="color:var(--accent); font-weight:600; margin:12px 0" data-i18n="total">Total: ‚Ç¨0</p>
      <div class="payrow">
        <button class="btn" id="cartCheckout" data-i18n="checkout">Checkout</button>
        <button class="btn ghost" id="cartClear" data-i18n="clear-cart">Clear Cart</button>
        <button class="btn ghost" id="cartClose" data-i18n="close">Close</button>
      </div>
    </div>
  </div>
  <audio id="bgMusic" loop playsinline preload="auto" muted autoplay>
    <source src="Carpetman_Black_Soil_-_Alleys_of_My_Mind_(MP3.tm).mp3" type="audio/mpeg">
  </audio>
  <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.27/bundled/lenis.min.js"></script>
  <script>
    // Translation system
    const translations = {
      en: {
        "company-name": "King House Travel",
        "season-title": "Spring Tours 2026",
        "buy-spring-tour": "Buy Spring Tour",
        "music-off": "Music: Off",
        "music-on": "Music: On",
        "theme-light": "Theme: Light ‚òÄ",
        "theme-dark": "Theme: Dark üåô",
        "cart": "Cart",
        "elite-spring-journeys": "Elite",
        "spring-journeys-title": "Spring Journeys ‚Äî Blossom, Riviera & Thermal Spas",
        "hero-description": "Glass-clear luxury UI, curated 5‚òÖ stays, private transfers, and signature ‚ÄûSpring Renewal Wellness‚Äú programs. Book in one click ‚Äî multilingual and mobile-first. <strong>Bookings now open for 2026 season!</strong>",
        "book-now": "Book Now",
        "explore-tours": "Explore Tours",
        "cherry-blossom-retreat": "Cherry Blossom Retreat ¬∑ Japan",
        "cherry-blossom-description": "Experience sakura season in Kyoto & Tokyo. Private tea ceremonies, temple visits & guided photography. (2026 season)",
        "mediterranean-cruise": "Mediterranean Cruise ¬∑ Greek Islands",
        "mediterranean-description": "Luxury yacht through Greek islands. Private beaches, ancient ruins & sunset dining on deck. (2026 season)",
        "thermal-spa-experience": "Thermal Spa Experience ¬∑ Budapest",
        "thermal-spa-description": "Historic thermal baths, wellness treatments & Danube river cruises. Luxury spa hotels included. (2026 season)",
        "price-from": "from ‚Ç¨{price}",
        "buy": "Buy",
        "add-to-cart": "Add to Cart",
        "spring-festivals": "Spring Festivals",
        "europe-2026": "Europe 2026",
        "festivals-description": "Experience Europe's most vibrant spring festivals with our exclusive tours. From flower celebrations to cultural events, we offer premium access to the season's highlights.",
        "april-15": "Apr 15-22",
        "keukenhof-festival": "Keukenhof Flower Festival",
        "keukenhof-description": "Tulip fields & garden exhibitions in Netherlands with private guided tours.",
        "may-1": "May 1-7",
        "cannes-film": "Cannes Film Festival",
        "cannes-description": "Exclusive access to screenings & events on the French Riviera.",
        "may-20": "May 20-28",
        "flower-carpet": "Brussels Flower Carpet",
        "flower-carpet-description": "Biennial event with stunning floral arrangements in Grand Place.",
        "book-festival-tour": "Book Festival Tour",
        "see-all-tours": "See All Tours",
        "spring-renewal-wellness": "Spring Renewal Wellness",
        "programs": "Programs",
        "wellness-description": "Rejuvenation programs designed with wellness experts. Combine <strong>aromatherapy</strong>, <strong>hydrotherapy</strong>, <strong>yoga sessions</strong>, <strong>nutrition coaching</strong>, and <strong>mindfulness meditation</strong> for renewed energy in 5‚Äì7 days. (Available for 2026 tours)",
        "aromatherapy": "Aromatherapy",
        "hydrotherapy": "Hydrotherapy",
        "yoga-sessions": "Yoga Sessions",
        "nutrition-coaching": "Nutrition Coaching",
        "mindfulness-meditation": "Mindfulness Meditation",
        "add-to-booking": "Add to Booking",
        "ask-specialist": "Ask Specialist",
        "about-company": "About King House Travel",
        "company-description": "Founded in 2010, King House Travel specializes in luxury seasonal journeys across Europe's most breathtaking destinations. With over a decade of experience, we curate exclusive spring experiences that combine natural beauty, cultural immersion, and rejuvenating wellness. Our expert team ensures every detail of your journey is meticulously planned, from private transfers to 5-star accommodations and unique local experiences. We pride ourselves on creating unforgettable memories for our discerning clientele.",
        "copyright": "¬© 2026 King House Travel. All rights reserved.",
        "book-spring-tour": "Book Spring Tour",
        "selected-tour": "Selected tour: <b>‚Äî</b>",
        "full-name": "Full name",
        "email": "Email",
        "phone": "+420‚Ä¶",
        "guests": "Guests",
        "preferences": "Preferences (spa, excursions, transfers)‚Ä¶",
        "send-request": "Send Request",
        "close": "Close",
        "confirm-availability": "We'll confirm availability & payment options by email/phone.",
        "pay-deposit": "Pay / Deposit",
        "pay-description": "Secure your spot with a deposit. Choose Stripe, PayPal, or Crypto (BTC, ETH, USDT). (Demo only ‚Äî connect keys on your server.)",
        "pay-with-stripe": "Pay with Stripe",
        "pay-with-paypal": "Pay with PayPal",
        "pay-with-crypto": "Pay with Crypto",
        "payment-backend-info": "To go live: create backend endpoints for Stripe (PaymentIntent), PayPal (Order), or Coinbase Commerce (Charge).",
        "cart-description": "Your selected tours for Spring 2026",
        "total": "Total: ‚Ç¨{total}",
        "checkout": "Checkout",
        "clear-cart": "Clear Cart",
        "days": "Days",
        "hours": "Hours",
        "minutes": "Minutes",
        "seconds": "Seconds",
        "lang-en": "English",
        "lang-cs": "Czech",
        "lang-it": "Italian"
      },
      cs: {
        "company-name": "King House Travel",
        "season-title": "Jarn√≠ z√°jezdy 2026",
        "buy-spring-tour": "Koupit jarn√≠ z√°jezd",
        "music-off": "Hudba: Vyp",
        "music-on": "Hudba: Zap",
        "theme-light": "T√©ma: Svƒõtl√© ‚òÄ",
        "theme-dark": "T√©ma: Tmav√© üåô",
        "cart": "Ko≈°√≠k",
        "elite-spring-journeys": "Exkluzivn√≠",
        "spring-journeys-title": "Jarn√≠ cesty ‚Äî Kvƒõty, Rivi√©ra & Term√°ln√≠ l√°znƒõ",
        "hero-description": "Pr≈Øhledn√Ω luxusn√≠ UI, kur√°torsk√© 5‚òÖ pobyty, soukrom√© transfery a podpisov√© programy ‚ÄûJarn√≠ obnovuj√≠c√≠ wellness‚Äú. Rezervujte jedn√≠m kliknut√≠m ‚Äî v√≠cejazyƒçn√© a pro mobiln√≠ za≈ô√≠zen√≠. <strong>Rezervace pro sez√≥nu 2026 ji≈æ otev≈ôeny!</strong>",
        "book-now": "Rezervovat nyn√≠",
        "explore-tours": "Prozkoumat z√°jezdy",
        "cherry-blossom-retreat": "Sakura Retreat ¬∑ Japonsko",
        "cherry-blossom-description": "Za≈æijte sez√≥nu sakur v Kj√≥tu a Tokiu. Soukrom√© ƒçajov√© ceremonie, n√°v≈°tƒõvy chr√°m≈Ø a veden√° fotografie. (sez√≥na 2026)",
        "mediterranean-cruise": "St≈ôedomo≈ôsk√° plavba ¬∑ ≈òeck√© ostrovy",
        "mediterranean-description": "Luxusn√≠ jachta p≈ôes ≈ôeck√© ostrovy. Soukrom√© pl√°≈æe, starovƒõk√© ruiny a veƒçe≈ôe p≈ôi z√°padu slunce na palubƒõ. (sez√≥na 2026)",
        "thermal-spa-experience": "Z√°≈æitek z term√°ln√≠ch l√°zn√≠ ¬∑ Budape≈°≈•",
        "thermal-spa-description": "Historick√© term√°ln√≠ l√°znƒõ, wellness procedury a plavby po Dunaji. Zahrnuty luxusn√≠ l√°ze≈àsk√© hotely. (sez√≥na 2026)",
        "price-from": "od ‚Ç¨{price}",
        "buy": "Koupit",
        "add-to-cart": "P≈ôidat do ko≈°√≠ku",
        "spring-festivals": "Jarn√≠ festivaly",
        "europe-2026": "Evropa 2026",
        "festivals-description": "Za≈æijte nej≈æivƒõj≈°√≠ jarn√≠ festivaly Evropy s na≈°imi exkluzivn√≠mi z√°jezdy. Od kvƒõtinov√Ωch oslav a≈æ po kulturn√≠ akce, nab√≠z√≠me pr√©miov√Ω p≈ô√≠stup k vrchol≈Øm sez√≥ny.",
        "april-15": "15.-22. dubna",
        "keukenhof-festival": "Kvƒõtinov√Ω festival Keukenhof",
        "keukenhof-description": "Tulip√°nov√° pole a zahradn√≠ v√Ωstavy v Nizozemsku se soukrom√Ωmi pr≈Øvodci.",
        "may-1": "1.-7. kvƒõtna",
        "cannes-film": "Filmov√Ω festival v Cannes",
        "cannes-description": "Exkluzivn√≠ p≈ô√≠stup k projekc√≠m a ud√°lostem na Francouzsk√© rivi√©≈ôe.",
        "may-20": "20.-28. kvƒõtna",
        "flower-carpet": "Kvƒõtinov√Ω koberec v Bruselu",
        "flower-carpet-description": "Dvoulet√° akce s √∫chvatn√Ωmi kvƒõtinov√Ωmi aran≈æm√° na Grand Place.",
        "book-festival-tour": "Rezervovat festivalov√Ω z√°jezd",
        "see-all-tours": "Zobrazit v≈°echny z√°jezdy",
        "spring-renewal-wellness": "Jarn√≠ obnovuj√≠c√≠ wellness",
        "programs": "Programy",
        "wellness-description": "Programy obnovy navr≈æen√© s wellness experty. Kombinujte <strong>aromaterapii</strong>, <strong>hydroterapii</strong>, <strong>j√≥gov√° sezen√≠</strong>, <strong>v√Ω≈æivov√© poradenstv√≠</strong> a <strong>uvƒõdomƒõlou meditaci</strong> pro obnoven√≠ energie bƒõhem 5‚Äì7 dn≈Ø. (K dispozici pro z√°jezdy 2026)",
        "aromatherapy": "Aromaterapie",
        "hydrotherapy": "Hydroterapie",
        "yoga-sessions": "J√≥gov√° sezen√≠",
        "nutrition-coaching": "V√Ω≈æivov√© poradenstv√≠",
        "mindfulness-meditation": "Uvƒõdomƒõl√° meditace",
        "add-to-booking": "P≈ôidat k rezervaci",
        "ask-specialist": "Zeptat se specialisty",
        "about-company": "O spoleƒçnosti King House Travel",
        "company-description": "Zalo≈æena v roce 2010, King House Travel se specializuje na luxusn√≠ sez√≥nn√≠ cesty po nej√∫chvatnƒõj≈°√≠ch destinac√≠ch Evropy. S v√≠ce ne≈æ desetilet√Ωmi zku≈°enostmi vytv√°≈ô√≠me exkluzivn√≠ jarn√≠ z√°≈æitky, kter√© kombinuj√≠ p≈ô√≠rodn√≠ kr√°su, kulturn√≠ z√°≈æitky a omlazuj√≠c√≠ wellness. N√°≈° expertn√≠ t√Ωm zajist√≠, ≈æe ka≈æd√Ω detail va≈°√≠ cesty je peƒçlivƒõ napl√°nov√°n, od soukrom√Ωch transfer≈Ø po 5hvƒõzdiƒçkov√© ubytov√°n√≠ a jedineƒçn√© m√≠stn√≠ z√°≈æitky. Hrd√≠me se na vytv√°≈ôen√≠ nezapomenuteln√Ωch vzpom√≠nek pro na≈°e n√°roƒçn√© klienty.",
        "copyright": "¬© 2026 King House Travel. V≈°echna pr√°va vyhrazena.",
        "book-spring-tour": "Rezervovat jarn√≠ z√°jezd",
        "selected-tour": "Vybran√Ω z√°jezd: <b>‚Äî</b>",
        "full-name": "Cel√© jm√©no",
        "email": "E-mail",
        "phone": "+420‚Ä¶",
        "guests": "Host√©",
        "preferences": "Preference (l√°znƒõ, v√Ωlety, transfery)‚Ä¶",
        "send-request": "Odeslat po≈æadavek",
        "close": "Zav≈ô√≠t",
        "confirm-availability": "Potvrd√≠me dostupnost a platebn√≠ mo≈ænosti e-mailem/telefonem.",
        "pay-deposit": "Zaplatit / Z√°loha",
        "pay-description": "Zajistƒõte si m√≠sto z√°lohou. Vyberte si Stripe, PayPal nebo Krypto (BTC, ETH, USDT). (Pouze demo ‚Äî p≈ôipojte kl√≠ƒçe na sv√©m serveru.)",
        "pay-with-stripe": "Zaplatit p≈ôes Stripe",
        "pay-with-paypal": "Zaplatit p≈ôes PayPal",
        "pay-with-crypto": "Zaplatit kryptomƒõnou",
        "payment-backend-info": "Pro spu≈°tƒõn√≠: vytvo≈ôte backend endpointy pro Stripe (PaymentIntent), PayPal (Order) nebo Coinbase Commerce (Charge).",
        "cart-description": "Va≈°e vybran√© z√°jezdy pro jaro 2026",
        "total": "Celkem: ‚Ç¨{total}",
        "checkout": "Pokladna",
        "clear-cart": "Vypr√°zdnit ko≈°√≠k",
        "days": "Dny",
        "hours": "Hodiny",
        "minutes": "Minuty",
        "seconds": "Sekundy",
        "lang-en": "Angliƒçtina",
        "lang-cs": "ƒåe≈°tina",
        "lang-it": "Ital≈°tina"
      },
      it: {
        "company-name": "King House Travel",
        "season-title": "Tour Primaverili 2026",
        "buy-spring-tour": "Acquista Tour Primaverile",
        "music-off": "Musica: Off",
        "music-on": "Musica: On",
        "theme-light": "Tema: Chiaro ‚òÄ",
        "theme-dark": "Tema: Scuro üåô",
        "cart": "Carrello",
        "elite-spring-journeys": "Elite",
        "spring-journeys-title": "Viaggi Primaverili ‚Äî Fiori, Riviera & Terme",
        "hero-description": "UI di lusso trasparente, soggiorni curati 5‚òÖ, trasferimenti privati e programmi di firma ‚ÄûWellness Rinnovamento Primaverile‚Äú. Prenota con un clic ‚Äî multilingue e mobile-first. <strong>Prenotazioni aperte per la stagione 2026!</strong>",
        "book-now": "Prenota Ora",
        "explore-tours": "Esplora Tour",
        "cherry-blossom-retreat": "Ritiro dei Fiori di Ciliegio ¬∑ Giappone",
        "cherry-blossom-description": "Sperimenta la stagione dei sakura a Kyoto & Tokyo. Cerimonie del t√® private, visite ai templi e fotografia guidata. (stagione 2026)",
        "mediterranean-cruise": "Crociera Mediterranea ¬∑ Isole Greche",
        "mediterranean-description": "Yacht di lusso attraverso le isole greche. Spiagge private, rovine antiche e cene al tramonto sul ponte. (stagione 2026)",
        "thermal-spa-experience": "Esperienza Termale ¬∑ Budapest",
        "thermal-spa-description": "Bagni termali storici, trattamenti benessere e crociere sul Danubio. Inclusi hotel termali di lusso. (stagione 2026)",
        "price-from": "da ‚Ç¨{price}",
        "buy": "Acquista",
        "add-to-cart": "Aggiungi al Carrello",
        "spring-festivals": "Festival Primaverili",
        "europe-2026": "Europa 2026",
        "festivals-description": "Sperimenta i festival primaverili pi√π vivaci d'Europa con i nostri tour esclusivi. Dalle celebrazioni floreali agli eventi culturali, offriamo accesso premium ai punti salienti della stagione.",
        "april-15": "15-22 Apr",
        "keukenhof-festival": "Fiori a Keukenhof",
        "keukenhof-description": "Campi di tulipani e mostre giardino nei Paesi Bassi con visite guidate private.",
        "may-1": "1-7 Mag",
        "cannes-film": "Festival del Cinema di Cannes",
        "cannes-description": "Accesso esclusivo a proiezioni ed eventi sulla Riviera Francese.",
        "may-20": "20-28 Mag",
        "flower-carpet": "Tappeto di Fiori a Bruxelles",
        "flower-carpet-description": "Evento biennale con spettacolari composizioni floreali nella Grand Place.",
        "book-festival-tour": "Prenota Tour del Festival",
        "see-all-tours": "Vedi Tutti i Tour",
        "spring-renewal-wellness": "Wellness Rinnovamento Primaverile",
        "programs": "Programmi",
        "wellness-description": "Programmi di ringiovanimento progettati con esperti di benessere. Combina <strong>aromaterapia</strong>, <strong>idroterapia</strong>, <strong>sessioni di yoga</strong>, <strong>coaching nutrizionale</strong> e <strong>meditazione mindfulness</strong> per un'energia rinnovata in 5‚Äì7 giorni. (Disponibile per i tour 2026)",
        "aromatherapy": "Aromaterapia",
        "hydrotherapy": "Idroterapia",
        "yoga-sessions": "Sessioni di Yoga",
        "nutrition-coaching": "Coaching Nutrizionale",
        "mindfulness-meditation": "Meditazione Mindfulness",
        "add-to-booking": "Aggiungi alla Prenotazione",
        "ask-specialist": "Chiedi a uno Specialista",
        "about-company": "Informazioni su King House Travel",
        "company-description": "Fondata nel 2010, King House Travel si specializza in viaggi stagionali di lusso attraverso le destinazioni pi√π mozzafiato d'Europa. Con oltre un decennio di esperienza, creiamo esperienze primaverili esclusive che combinano bellezze naturali, immersione culturale e benessere ringiovanente. Il nostro team di esperti assicura che ogni dettaglio del tuo viaggio sia meticolosamente pianificato, dai trasferimenti privati agli alloggi 5 stelle ed esperienze locali uniche. Ci vantiamo di creare ricordi indimenticabili per la nostra esigente clientela.",
        "copyright": "¬© 2026 King House Travel. Tutti i diritti riservati.",
        "book-spring-tour": "Prenota Tour Primaverile",
        "selected-tour": "Tour selezionato: <b>‚Äî</b>",
        "full-name": "Nome completo",
        "email": "Email",
        "phone": "+420‚Ä¶",
        "guests": "Ospiti",
        "preferences": "Preferenze (spa, escursioni, trasferimenti)‚Ä¶",
        "send-request": "Invia Richiesta",
        "close": "Chiudi",
        "confirm-availability": "Confermeremo disponibilit√† e opzioni di pagamento tramite email/telefono.",
        "pay-deposit": "Paga / Acconto",
        "pay-description": "Assicura il tuo posto con un acconto. Scegli Stripe, PayPal o Crypto (BTC, ETH, USDT). (Solo demo ‚Äî connetti le chiavi sul tuo server.)",
        "pay-with-stripe": "Paga con Stripe",
        "pay-with-paypal": "Paga con PayPal",
        "pay-with-crypto": "Paga con Crypto",
        "payment-backend-info": "Per andare online: crea endpoint di backend per Stripe (PaymentIntent), PayPal (Order) o Coinbase Commerce (Charge).",
        "cart-description": "I tuoi tour selezionati per la Primavera 2026",
        "total": "Totale: ‚Ç¨{total}",
        "checkout": "Cassa",
        "clear-cart": "Svuota Carrello",
        "days": "Giorni",
        "hours": "Ore",
        "minutes": "Minuti",
        "seconds": "Secondi",
        "lang-en": "Inglese",
        "lang-cs": "Ceco",
        "lang-it": "Italiano"
      }
    };
    
    // Language switching functionality
    let currentLanguage = localStorage.getItem('kht_language') || 'en';
    
    function changeLanguage(lang) {
      currentLanguage = lang;
      localStorage.setItem('kht_language', lang);
      
      // Update language button
      const languageBtn = document.getElementById('languageBtn');
      const currentFlag = document.getElementById('currentFlag');
      const currentLang = document.getElementById('currentLang');
      
      // Set flag and language code
      if (lang === 'en') {
        currentFlag.textContent = 'üá¨üáß';
        currentLang.textContent = 'EN';
      } else if (lang === 'cs') {
        currentFlag.textContent = 'üá®üáø';
        currentLang.textContent = 'CS';
      } else if (lang === 'it') {
        currentFlag.textContent = 'üáÆüáπ';
        currentLang.textContent = 'IT';
      }
      
      // Update active language in dropdown
      document.querySelectorAll('.language-option').forEach(option => {
        if (option.dataset.lang === lang) {
          option.classList.add('active');
        } else {
          option.classList.remove('active');
        }
      });
      
      // Update all translatable elements
      document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
          // Handle special cases with dynamic content
          if (key === 'price-from' || key === 'total') {
            const priceMatch = element.textContent.match(/‚Ç¨(\d+)/);
            if (priceMatch) {
              element.textContent = translations[lang][key].replace('{price}', priceMatch[1]).replace('{total}', priceMatch[1]);
            }
          } else if (key === 'selected-tour') {
            const tourName = element.querySelector('b').textContent;
            element.innerHTML = translations[lang][key].replace('‚Äî', tourName);
          } else {
            element.innerHTML = translations[lang][key];
          }
        }
      });
      
      // Update placeholders
      document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        if (translations[lang] && translations[lang][key]) {
          element.placeholder = translations[lang][key];
        }
      });
      
      // Update document lang attribute
      document.documentElement.lang = lang;
      
      // Close dropdown
      document.getElementById('languageDropdown').classList.remove('active');
      languageBtn.setAttribute('aria-expanded', 'false');
    }
    
    document.addEventListener('DOMContentLoaded', () => {
      window.lenis = new Lenis({ duration: 1.2, smooth: true, smoothTouch: false });
      function raf(t){ window.lenis.raf(t); requestAnimationFrame(raf) }
      requestAnimationFrame(raf);
      
      // Initialize language
      changeLanguage(currentLanguage);
      
      // Set up language selector
      const languageBtn = document.getElementById('languageBtn');
      const languageDropdown = document.getElementById('languageDropdown');
      
      languageBtn.addEventListener('click', () => {
        const isExpanded = languageBtn.getAttribute('aria-expanded') === 'true';
        languageBtn.setAttribute('aria-expanded', !isExpanded);
        languageDropdown.classList.toggle('active');
      });
      
      // Close dropdown when clicking outside
      document.addEventListener('click', (e) => {
        if (!e.target.closest('.language-selector')) {
          languageDropdown.classList.remove('active');
          languageBtn.setAttribute('aria-expanded', 'false');
        }
      });
      
      // Handle language option clicks
      document.querySelectorAll('.language-option').forEach(option => {
        option.addEventListener('click', () => {
          changeLanguage(option.dataset.lang);
        });
      });
      
      // Lazy load images
      if ('IntersectionObserver' in window) {
        const io = new IntersectionObserver(entries=>{
          entries.forEach(e=>{
            if(!e.isIntersecting) return;
            const el=e.target, src=el.getAttribute('data-src');
            if(src){ el.style.backgroundImage = `url('${src}')`; io.unobserve(el); }
          });
        }, {rootMargin:'200px 0px'});
        document.querySelectorAll('.card .img[data-src]').forEach(el=>io.observe(el));
      } else {
        // Fallback for browsers without IntersectionObserver
        document.querySelectorAll('.card .img[data-src]').forEach(el => {
          const src = el.getAttribute('data-src');
          if(src) el.style.backgroundImage = `url('${src}')`;
        });
      }
      
      // Ensure video covers entire screen
      function adjustVideoSize() {
        const video = document.querySelector('.video-bg video');
        if (!video) return;
        
        const updateSize = () => {
          const vw = window.innerWidth;
          const vh = window.innerHeight;
          
          // Apply dimensions to cover entire viewport
          video.style.width = `${vw}px`;
          video.style.height = `${vh}px`;
          video.style.minWidth = '100%';
          video.style.minHeight = '100%';
        };
        
        updateSize();
        window.addEventListener('resize', updateSize);
      }
      
      adjustVideoSize();
      
      // Countdown timer for special offers
      function updateCountdown() {
        // Set the date we're counting down to (15 days from now for demo)
        const countDownDate = new Date();
        countDownDate.setDate(countDownDate.getDate() + 15);
        
        // Update the count down every 1 second
        const x = setInterval(function() {
          // Get today's date and time
          const now = new Date().getTime();
          
          // Find the distance between now and the count down date
          const distance = countDownDate - now;
          
          // Time calculations for days, hours, minutes and seconds
          const days = Math.floor(distance / (1000 * 60 * 60 * 24));
          const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = Math.floor((distance % (1000 * 60)) / 1000);
          
          // Display the result
          document.getElementById("days").textContent = days.toString().padStart(2, '0');
          document.getElementById("hours").textContent = hours.toString().padStart(2, '0');
          document.getElementById("minutes").textContent = minutes.toString().padStart(2, '0');
          document.getElementById("seconds").textContent = seconds.toString().padStart(2, '0');
          
          // If the count down is finished, write some text
          if (distance < 0) {
            clearInterval(x);
            document.getElementById("days").textContent = "00";
            document.getElementById("hours").textContent = "00";
            document.getElementById("minutes").textContent = "00";
            document.getElementById("seconds").textContent = "00";
          }
        }, 1000);
      }
      
      updateCountdown();
    });
    
    (function ensureMusic() {
      const music = document.getElementById('bgMusic');
      const musicBtn = document.getElementById('musicBtn');
      music.volume = 0.5;
      function updateMusicBtn(){
        const on = !music.muted && !music.paused;
        const lang = currentLanguage;
        const musicText = on ? 'music-on' : 'music-off';
        musicBtn.textContent = translations[lang][musicText];
        musicBtn.setAttribute('aria-pressed', String(on));
      }
      function tryUnmutePlay(){
        try {
          music.play().then(() => {
            music.muted = false;
            updateMusicBtn();
            window.removeEventListener('click', tryUnmutePlay, true);
            window.removeEventListener('touchstart', tryUnmutePlay, true);
          }).catch(err => console.warn('Music play failed:', err));
        } catch (err) { console.warn('Music init failed:', err); }
      }
      window.addEventListener('click', tryUnmutePlay, true);
      window.addEventListener('touchstart', tryUnmutePlay, true);
      musicBtn.addEventListener('click', async () => {
        try {
          if(music.paused){ await music.play(); music.muted = false; }
          else{ music.muted = !music.muted; }
          updateMusicBtn();
        } catch (err) { console.warn('Music toggle failed:', err); }
      });
      document.addEventListener('visibilitychange', () => {
        if(document.hidden) { music.pause(); music.muted = true; }
        updateMusicBtn();
      });
      updateMusicBtn();
    })();
    
    document.addEventListener('visibilitychange', () => {
      const video = document.querySelector('.video-bg video');
      if (document.hidden) {
        video.pause();
      } else {
        video.play().catch(e => console.log("Video play failed:", e));
      }
    });
    
    const petalField = document.getElementById('petal-field');
    function makePetals(n=160){
      petalField.innerHTML = '';
      for(let i=0;i<n;i++){
        const st = document.createElement('div');
        st.className = 'petal';
        st.style.left = Math.random()*100 + 'vw';
        st.style.top  = Math.random()*100 + 'vh';
        st.style.opacity = (0.4 + Math.random()*0.6).toFixed(2);
        // Randomize petal colors - –ø—Ä–∏–≥–ª—É—à–µ–Ω—ñ –∫–æ–ª—å–æ—Ä–∏ –¥–ª—è —Ç–µ–º–Ω–æ—ó —Ç–µ–º–∏
        const colors = ['#ffab91', '#ce93d8', '#81c784', '#ffd54f'];
        st.style.background = colors[Math.floor(Math.random() * colors.length)];
        petalField.appendChild(st);
      }
    }
  
    
    // Focus trap for modals
    function trapFocus(modal) {
      const focusables = modal.querySelectorAll('a,button,input,select,textarea,[tabindex]:not([tabindex="-1"])');
      if (!focusables.length) return;
      
      const first = focusables[0], last = focusables[focusables.length-1];
      
      modal.addEventListener('keydown', function trapHandler(e) {
        if(e.key !== 'Tab') return;
        
        if(e.shiftKey && document.activeElement === first) {
          e.preventDefault();
          last.focus();
        } else if(!e.shiftKey && document.activeElement === last) {
          e.preventDefault();
          first.focus();
        }
      });
      
      // Focus first element
      first.focus();
    }
    
    const modal = document.getElementById('bookModal');
    const tourPicked = document.getElementById('tourPicked').querySelector('b');
    function openModal(tour){ 
      tourPicked.textContent = tour || '‚Äî'; 
      modal.classList.add('open'); 
      modal.setAttribute('aria-hidden','false'); 
      document.body.style.overflow = 'hidden'; 
      if (window.lenis) window.lenis.stop();
      trapFocus(modal);
    }
    function closeModal(){ 
      modal.classList.remove('open'); 
      modal.setAttribute('aria-hidden','true'); 
      document.body.style.overflow = ''; 
      if (window.lenis) window.lenis.start(); 
    }
    document.getElementById('openBook').addEventListener('click', ()=>openModal());
    document.getElementById('heroBook').addEventListener('click', ()=>openModal(translations[currentLanguage]['featured-spring-journey'] || 'Featured Spring Journey'));
    document.getElementById('closeModal').addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{ if(e.target===modal) closeModal() });
    document.querySelectorAll('.buy .buy-btn').forEach(btn=> btn.addEventListener('click', ()=> openModal(btn.dataset.tour)));
    document.getElementById('bookForm').addEventListener('submit', (e)=>{ 
      e.preventDefault(); 
      const successMsg = currentLanguage === 'en' ? 'Thank you! We will contact you to finalize your booking.' :
                          currentLanguage === 'cs' ? 'Dƒõkujeme! Budeme V√°s kontaktovat pro dokonƒçen√≠ rezervace.' :
                          'Grazie! Ti contatteremo per finalizzare la prenotazione.';
      alert(successMsg); 
      closeModal(); 
      e.target.reset(); 
    });
    
    const payModal = document.getElementById('pay');
    function openPay(){ 
      payModal.classList.add('open'); 
      payModal.setAttribute('aria-hidden','false'); 
      document.body.style.overflow = 'hidden'; 
      if (window.lenis) window.lenis.stop();
      trapFocus(payModal);
    }
    function closePay(){ 
      payModal.classList.remove('open'); 
      payModal.setAttribute('aria-hidden','true'); 
      document.body.style.overflow = ''; 
      if (window.lenis) window.lenis.start(); 
    }
    document.querySelectorAll('[href="#pay"]').forEach(a=>a.addEventListener('click', (e)=>{ e.preventDefault(); openPay() }));
    document.getElementById('closePay').addEventListener('click', closePay);
    document.getElementById('stripePay').addEventListener('click', async ()=>{
      const alertMsg = currentLanguage === 'en' ? 'Stripe demo: call your backend /create-checkout-session and redirect to session.url' :
                      currentLanguage === 'cs' ? 'Stripe demo: volejte sv≈Øj backend /create-checkout-session a p≈ôesmƒõrujte na session.url' :
                      'Demo Stripe: chiama il tuo backend /create-checkout-session e reindirizza a session.url';
      alert(alertMsg);
    });
    document.getElementById('paypalPay').addEventListener('click', async ()=>{
      const alertMsg = currentLanguage === 'en' ? 'PayPal demo: call your backend /create-order and redirect to approve link' :
                      currentLanguage === 'cs' ? 'PayPal demo: volejte sv≈Øj backend /create-order a p≈ôesmƒõrujte na approve link' :
                      'Demo PayPal: chiama il tuo backend /create-order e reindirizza al link di approvazione';
      alert(alertMsg);
    });
    document.getElementById('cryptoPay').addEventListener('click', async ()=>{
      const alertMsg = currentLanguage === 'en' ? 'Crypto demo: call your backend /create-charge (Coinbase Commerce) and redirect to hosted_url' :
                      currentLanguage === 'cs' ? 'Crypto demo: volejte sv≈Øj backend /create-charge (Coinbase Commerce) a p≈ôesmƒõrujte na hosted_url' :
                      'Demo Crypto: chiama il tuo backend /create-charge (Coinbase Commerce) e reindirizza a hosted_url';
      alert(alertMsg);
    });
    
    const cartModal = document.getElementById('cartModal');
    const cartItems = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');
    const cartCount = document.getElementById('cartCount');
    let cart = JSON.parse(localStorage.getItem('kht_cart') || '[]');
    
    // Cart event delegation
    cartItems.addEventListener('input', (e) => {
      const el = e.target;
      if (el.matches('input[type=number][data-i]')) {
        const i = Number(el.dataset.i);
        cart[i].guests = Math.max(1, Number(el.value) || 1);
        updateCart();
      }
    });
    
    cartItems.addEventListener('click', (e) => {
      const btn = e.target.closest('[data-remove]');
      if (!btn) return;
      cart.splice(Number(btn.dataset.remove), 1);
      updateCart();
    });
    
    function updateCart(){
      const removeText = translations[currentLanguage]['remove'] || 'Remove';
      cartItems.innerHTML = cart.length ? cart.map((item, i) => `
        <div class="cart-item">
          <strong>${item.tour}</strong> ‚Äî ‚Ç¨${item.price}
          √ó <input type="number" min="1" value="${item.guests}" data-i="${i}" style="width:60px">
          <button class="btn ghost" data-remove="${i}">${removeText}</button>
        </div>
      `).join('') : `<p style="color:var(--muted)">${translations[currentLanguage]['cart-empty'] || 'Cart is empty'}</p>`;
      
      const total = cart.reduce((sum, item) => sum + item.price * item.guests, 0);
      const totalText = translations[currentLanguage]['total'] || 'Total: ‚Ç¨{total}';
      cartTotal.innerHTML = totalText.replace('{total}', new Intl.NumberFormat('en-US', {style:'currency', currency:'EUR'}).format(total));
      
      // Show total guests instead of items
      const totalGuests = cart.reduce((sum, item) => sum + (item.guests || 1), 0);
      cartCount.textContent = totalGuests;
      
      localStorage.setItem('kht_cart', JSON.stringify(cart));
    }
    
    function addToCart(tour, price){
      cart.push({ tour, price: Number(price), guests: 1 });
      updateCart();
      openCart();
    }
    
    function openCart(){
      cartModal.classList.add('open');
      cartModal.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
      if (window.lenis) window.lenis.stop();
      trapFocus(cartModal);
    }
    
    function closeCart(){
      cartModal.classList.remove('open');
      cartModal.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
      if (window.lenis) window.lenis.start();
    }
    
    document.getElementById('cartBtn').addEventListener('click', openCart);
    document.getElementById('cartClose').addEventListener('click', closeCart);
    document.getElementById('cartClear').addEventListener('click', () => { cart = []; updateCart(); });
    document.getElementById('cartCheckout').addEventListener('click', () => { if (cart.length) openPay(); });
    cartModal.addEventListener('click', (e) => { if (e.target === cartModal) closeCart(); });
    document.querySelectorAll('.cart-add').forEach(btn => btn.addEventListener('click', () => addToCart(btn.dataset.tour, btn.dataset.price)));
    updateCart();
    
    const themeBtn = document.getElementById('themeBtn');
    // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ —Ç–µ–º–Ω—É —Ç–µ–º—É –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
    let isDarkTheme = localStorage.getItem('kht_theme') === 'dark';
    
    function syncPetals() {
      document.getElementById('petal-field').style.opacity =
        document.body.classList.contains('spring-sky') ? '1' : '0.7';
    }
    
    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–ª—å–æ—Ä—É –∫—É—Ä—Å–æ—Ä–∞
    function updateCursorColor() {
      const cursorDots = document.querySelectorAll('.cursor-dot');
      cursorDots.forEach(dot => {
        if (document.body.classList.contains('dark-theme')) {
          dot.classList.add('dark-theme-cursor');
        } else {
          dot.classList.remove('dark-theme-cursor');
        }
      });
    }
    
    function setTheme(){
      if(isDarkTheme){
        document.body.classList.add('dark-theme');
        document.body.classList.remove('spring-sky');
        themeBtn.textContent = translations[currentLanguage]['theme-dark'] || 'Theme: Dark üåô';
      }else{
        document.body.classList.remove('dark-theme');
        document.body.classList.add('spring-sky');
        themeBtn.textContent = translations[currentLanguage]['theme-light'] || 'Theme: Light ‚òÄ';
      }
      localStorage.setItem('kht_theme', isDarkTheme ? 'dark' : 'light');
      syncPetals();
      updateCursorColor(); // –û–Ω–æ–≤–ª—é—î–º–æ –∫–æ–ª—ñ—Ä –∫—É—Ä—Å–æ—Ä–∞
    }
    
    themeBtn.addEventListener('click', () => { isDarkTheme = !isDarkTheme; setTheme(); });
    setTheme();
    
    // Cursor trail - optimized version
    const MAX = 16;
    const trail = [];
    
    // Only create cursor trail on devices with fine pointer
    if (window.matchMedia('(hover:hover) and (pointer:fine)').matches) {
      for(let i = 0; i < MAX; i++) {
        const d = document.createElement('div');
        d.className = 'cursor-dot';
        document.body.appendChild(d);
        trail.push(d);
      }
      
      window.addEventListener('mousemove', e => {
        trail.forEach((el, i) => {
          const s = 1 - i / MAX;
          el.style.transform = `translate(${e.clientX}px, ${e.clientY}px) scale(${Math.max(.4, s)})`;
          el.style.opacity = (0.4 + (1 - i / MAX) * 0.6).toFixed(2);
        });
      });
      
      // –û–Ω–æ–≤–ª—é—î–º–æ –∫–æ–ª—ñ—Ä –∫—É—Ä—Å–æ—Ä–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
      updateCursorColor();
    }
  </script>
  <button class="chat-launcher" id="chatLaunch" aria-expanded="false" aria-label="Open support chat" data-i18n="chat-help">Chat ‚Ä¢ Help</button>
  <aside class="chatbox" id="chatBox" role="dialog" aria-label="KHT Assistant">
    <div class="chat-header">
      <div class="ttl">
        <span data-i18n="kht-assistant">KHT Assistant</span> 
        <small data-i18n="booking-wellness">Booking & Wellness</small>
      </div>
      <div>
        <button class="btn ghost" id="chatMin" aria-label="Minimize chat">‚Äî</button>
        <button class="btn" id="chatClose" aria-label="Close chat">√ó</button>
      </div>
    </div>
    <div class="chat-messages" id="chatLog"></div>
    <div class="chipbar" id="chipbar">
      <span class="chip" data-q="price" data-i18n="prices">Prices</span>
      <span class="chip" data-q="wellness" data-i18n="spring-renewal-wellness">Spring Wellness</span>
      <span class="chip" data-q="pay" data-i18n="pay-deposit">Pay / Deposit</span>
      <span class="chip" data-q="book" data-i18n="book-now">Book now</span>
      <span class="chip" data-q="contact" data-i18n="contact-agent">Contact agent</span>
    </div>
    <div class="chat-input">
      <input id="chatField" type="text" data-i18n-placeholder="type-message" placeholder="Type your message‚Ä¶ / Napi≈°te zpr√°vu‚Ä¶ / –ù–∞–ø–∏—à—ñ—Ç—å‚Ä¶" />
      <button class="btn" id="chatSend" data-i18n="send">Send</button>
    </div>
  </aside>
  <script>
    const chatLaunch = document.getElementById('chatLaunch');
    const chatBox = document.getElementById('chatBox');
    const chatLog = document.getElementById('chatLog');
    const chatField = document.getElementById('chatField');
    const chatSend = document.getElementById('chatSend');
    const chatClose = document.getElementById('chatClose');
    const chatMin = document.getElementById('chatMin');
    const chipbar = document.getElementById('chipbar');
    
    let chatLastFocus = null;
    
    function openChat(){ 
      chatLastFocus = document.activeElement;
      chatBox.classList.add('open'); 
      chatBox.setAttribute('aria-hidden','false');
      chatLaunch.setAttribute('aria-expanded','true'); 
      saveOpen(true); 
      if(!sessionStorage.getItem('kht_init')) { 
        botGreeting(); 
        sessionStorage.setItem('kht_init','1'); 
      } 
    }
    
    function closeChat(){ 
      chatBox.classList.remove('open'); 
      chatBox.setAttribute('aria-hidden','true');
      chatLaunch.setAttribute('aria-expanded','false'); 
      saveOpen(false);
      if (chatLastFocus) chatLastFocus.focus();
    }
    
    chatLaunch.addEventListener('click', ()=> chatBox.classList.contains('open')? closeChat(): openChat());
    chatClose.addEventListener('click', closeChat);
    chatMin.addEventListener('click', ()=> chatBox.classList.toggle('open'));
    
    function addMsg(role, text){
      const m = document.createElement('div');
      m.className = 'msg ' + role;
      m.innerHTML = text;
      chatLog.appendChild(m);
      chatLog.scrollTop = chatLog.scrollHeight;
      persist();
    }
    
    function typing(on=true){
      let t = document.getElementById('typing');
      if(on){ if(t) return; t = document.createElement('div'); t.id='typing'; t.className='msg bot typing'; t.innerHTML='<span class="dot"></span><span class="dot"></span><span class="dot"></span>'; chatLog.appendChild(t); chatLog.scrollTop = chatLog.scrollHeight; }
      else if(t){ t.remove(); }
    }
    
    function botGreeting(){
      let greetingText, tipText;
      
      if (currentLanguage === 'cs') {
        greetingText = '<b>V√≠tejte v King House Travel!</b><br/>Jak v√°m mohu pomoci? ‚Äî <i>Ceny</i>, <i>Jarn√≠ wellness</i>, <i>Platba</i>, <i>Rezervace</i>, <i>Kontakt</i>.';
        tipText = '<small>Tip: Pou≈æijte tlaƒç√≠tko Jazyk v z√°hlav√≠ pro jak√Ωkoli jazyk.</small>';
      } else if (currentLanguage === 'it') {
        greetingText = '<b>Benvenuto in King House Travel!</b><br/>Come posso aiutarti? ‚Äî <i>Prezzi</i>, <i>Wellness Primaverile</i>, <i>Pagamento</i>, <i>Prenota</i>, <i>Contatto</i>.';
        tipText = '<small>Suggerimento: Usa il pulsante Lingua nell\'intestazione per qualsiasi lingua.</small>';
      } else {
        greetingText = '<b>Welcome to King House Travel!</b><br/>How can I help? ‚Äî <i>Prices</i>, <i>Spring Wellness</i>, <i>Pay</i>, <i>Book</i>, <i>Contact</i>.';
        tipText = '<small>Tip: Use the Translate button in the header for any language.</small>';
      }
      
      addMsg('bot', greetingText + '<br/>' + tipText);
    }
    
    function handleUser(text){
      addMsg('user', escapeHTML(text));
      typing(true);
      setTimeout(()=>{ typing(false); route(text); }, 600);
    }
    
    function route(t){
      const s = t.toLowerCase();
      if(/price|—Ü–µ–Ω|—Üi–Ω|cena|prezzo/.test(s)) return replyPrice();
      if(/wellness|–æ–∑–¥–æ—Ä–æ–≤|–∑–¥–æ—Ä–æ–≤|l√°ze|spa|benessere/.test(s)) return replyWellness();
      if(/pay|–æ–ø–ª–∞—Ç|stripe|paypal|deposit|–∑–∞–¥–∞—Ç|–ø–µ—Ä–µ–¥–æ–ø–ª–∞—Ç|crypto|–∫—Ä–∏–ø—Ç|pagamento|acconto/.test(s)) return replyPay();
      if(/book|–±—Ä–æ–Ω|–∑–∞–∫–∞–∑|rezerv|prenot/.test(s)) return replyBook();
      if(/human|agent|manager|–∫–æ–Ω—Ç–∞–∫—Ç|–∞–≥–µ–Ω—Ç|–æ–ø–µ—Ä–∞—Ç–æ—Ä|–∫–æ–Ω—Å—É–ª—å—Ç|contatto|assistente/.test(s)) return replyContact();
      
      let helpText;
      if (currentLanguage === 'cs') {
        helpText = 'Zde je, co mohu udƒõlat:<br>‚Ä¢ Zobrazit <b>ceny</b> a typick√© slu≈æby zahrnut√© v cenƒõ<br>‚Ä¢ Vysvƒõtlit programy <b>Jarn√≠ho wellness</b><br>‚Ä¢ Spustit <b>Platbu / Z√°lohu</b> (Stripe/PayPal/Crypto)<br>‚Ä¢ Otev≈ô√≠t <b>rezervaƒçn√≠ formul√°≈ô</b><br>‚Ä¢ Spojit v√°s s <b>lidsk√Ωm agentem</b>.';
      } else if (currentLanguage === 'it') {
        helpText = 'Ecco cosa posso fare:<br>‚Ä¢ Mostrare <b>prezzi</b> e servizi tipici inclusi<br>‚Ä¢ Spiegare i programmi <b>Wellness Primaverile</b><br>‚Ä¢ Avviare <b>Pagamento / Acconto</b> (Stripe/PayPal/Crypto)<br>‚Ä¢ Aprire il <b>modulo di prenotazione</b><br>‚Ä¢ Metterti in contatto con un <b>agente umano</b>.';
      } else {
        helpText = 'Here is what I can do:<br>‚Ä¢ Show <b>prices</b> and typical inclusions<br>‚Ä¢ Explain <b>Spring Wellness</b> programs<br>‚Ä¢ Start <b>Pay / Deposit</b> (Stripe/PayPal/Crypto)<br>‚Ä¢ Open the <b>booking form</b><br>‚Ä¢ Connect you with a <b>human agent</b>.';
      }
      
      addMsg('bot', helpText);
    }
    
    function replyPrice(){
      let priceText;
      if (currentLanguage === 'cs') {
        priceText = `Typick√° cenov√° hladina na osobu:<ul><li>Sakura v Japonsku: <b>‚Ç¨2,899‚Äì‚Ç¨5,400</b> (5‚òÖ, ƒçajov√© ceremonie, pr≈Øvodci)</li><li>St≈ôedomo≈ôsk√° plavba: <b>‚Ç¨3,599‚Äì‚Ç¨6,800</b> (luxusn√≠ jachta, soukrom√© pl√°≈æe)</li><li>Term√°ln√≠ l√°znƒõ: <b>‚Ç¨1,999‚Äì‚Ç¨3,800</b> (historick√© l√°znƒõ, wellness procedury)</li></ul><small>P≈ôesn√° nab√≠dka po term√≠nech/hostech. Chcete, abych otev≈ôel rezervaƒçn√≠ formul√°≈ô?</small>`;
      } else if (currentLanguage === 'it') {
        priceText = `Fascia di prezzo tipica a persona:<ul><li>Sakura in Giappone: <b>‚Ç¨2,899‚Äì‚Ç¨5,400</b> (5‚òÖ, cerimonie del t√®, guide)</li><li>Crociera Mediterranea: <b>‚Ç¨3,599‚Äì‚Ç¨6,800</b> (yacht di lusso, spiagge private)</li><li>Terme di Budapest: <b>‚Ç¨1,999‚Äì‚Ç¨3,800</b> (bagni termali storici, trattamenti benessere)</li></ul><small>Offerta esatta dopo date/ospiti. Vuoi che apra il modulo di prenotazione?</small>`;
      } else {
        priceText = `Typical price range per person:<ul><li>Cherry Blossom Japan: <b>‚Ç¨2,899‚Äì‚Ç¨5,400</b> (5‚òÖ, tea ceremony, guides)</li><li>Mediterranean Cruise: <b>‚Ç¨3,599‚Äì‚Ç¨6,800</b> (luxury yacht, private beaches)</li><li>Thermal Spa Budapest: <b>‚Ç¨1,999‚Äì‚Ç¨3,800</b> (historic baths, wellness treatments)</li></ul><small>Exact offer after dates/guests. Want me to open the booking form?</small>`;
      }
      addMsg('bot', priceText);
    }
    
    function replyWellness(){
      let wellnessText, addWellnessText;
      if (currentLanguage === 'cs') {
        wellnessText = `<b>Jarn√≠ wellness</b> kombinuje aromaterapii, hydroterapii, j√≥gu, v√Ω≈æivov√© poradenstv√≠ a meditaci. Standardn√≠ modul trv√° 5‚Äì7 dn√≠. M≈Ø≈æete si ho p≈ôidat k jak√©mukoli z√°jezdu jedn√≠m kliknut√≠m.`;
        addWellnessText = 'P≈ôidat Wellness';
      } else if (currentLanguage === 'it') {
        wellnessText = `<b>Wellness Primaverile</b> combina aromaterapia, idroterapia, yoga, coaching nutrizionale e meditazione. Il modulo standard dura 5‚Äì7 giorni. Puoi aggiungerlo a qualsiasi tour con un clic.`;
        addWellnessText = 'Aggiungi Wellness';
      } else {
        wellnessText = `<b>Spring Wellness</b> combines aromatherapy, hydrotherapy, yoga, nutrition coaching & mindfulness meditation. Standard module is 5‚Äì7 days. You can add it to any tour in one click.`;
        addWellnessText = 'Add Wellness';
      }
      addMsg('bot', wellnessText + `<br><button class='btn' onclick="document.querySelector('#wellness .btn').click()">${addWellnessText}</button>`);
    }
    
    function replyPay(){
      let payText, openPayText;
      if (currentLanguage === 'cs') {
        payText = `M≈Ø≈æete si zajistit term√≠ny <b>z√°lohou</b>. Vyberte si <b>Stripe</b>, <b>PayPal</b> nebo <b>Krypto (BTC, ETH, USDT)</b>.`;
        openPayText = 'Otev≈ô√≠t Platbu / Z√°lohu';
      } else if (currentLanguage === 'it') {
        payText = `Puoi assicurare le date con un <b>acconto</b>. Scegli <b>Stripe</b>, <b>PayPal</b> o <b>Crypto (BTC, ETH, USDT)</b>.`;
        openPayText = 'Apri Pagamento / Acconto';
      } else {
        payText = `You can secure dates with a <b>deposit</b>. Choose <b>Stripe</b>, <b>PayPal</b>, or <b>Crypto (BTC, ETH, USDT)</b>.`;
        openPayText = 'Open Pay / Deposit';
      }
      addMsg('bot', payText + `<br><button class='btn' onclick="(function(){const a=document.querySelector('[href=\'#pay\']'); if(a){a.click()} })()">${openPayText}</button><br><small>Note: Live payments need backend keys (demo here).</small>`);
    }
    
    function replyBook(){
      let bookText, formText;
      if (currentLanguage === 'cs') {
        bookText = 'Skvƒõle! Otev≈ôu <b>rezervaƒçn√≠ formul√°≈ô</b>. Pros√≠m, vypl≈àte jm√©no, e-mail, term√≠ny a host√©.';
        formText = 'Rezervaƒçn√≠ formul√°≈ô';
      } else if (currentLanguage === 'it') {
        bookText = 'Ottimo! Aprir√≤ il <b>modulo di prenotazione</b>. Per favore compila nome, email, date e ospiti.';
        formText = 'Modulo di prenotazione';
      } else {
        bookText = 'Great! I will open the <b>booking form</b>. Please fill name, email, dates & guests.';
        formText = 'booking form';
      }
      addMsg('bot', bookText);
      setTimeout(()=>{ const el = document.getElementById('openBook'); if(el) el.click(); }, 300);
    }
    
    function replyContact(){
      let contactText;
      if (currentLanguage === 'cs') {
        contactText = `Zde sd√≠lejte sv≈Øj e-mail/telefon a p≈ôed√°m ho mana≈æerovi. Nebo napi≈°te na <b>booking@kinghousetravel.example</b>. <br><small>(Nahraƒète svou skuteƒçnou adresou.)</small>`;
      } else if (currentLanguage === 'it') {
        contactText = `Condividi qui la tua email/telefono e la passer√≤ a un manager. Oppure scrivi a <b>booking@kinghousetravel.example</b>. <br><small>(Sostituisci con il tuo indirizzo reale.)</small>`;
      } else {
        contactText = `Share your email/phone here and I will pass it to a manager. Or write to <b>booking@kinghousetravel.example</b>. <br><small>(Replace with your real address.)</small>`;
      }
      addMsg('bot', contactText);
    }
    
    function escapeHTML(str){ 
      return str.replace(/[&<>"']/g, s=>({
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#39;'
      }[s] || s));
    }
    
    chatSend.addEventListener('click', ()=>{ 
      if(chatField.value.trim()) { 
        handleUser(chatField.value.trim()); 
        chatField.value=''; 
        chatField.focus(); 
      } 
    });
    
    chatField.addEventListener('keydown', e=>{ 
      if(e.key==='Enter'){ 
        e.preventDefault(); 
        chatSend.click(); 
      } 
    });
    
    chipbar.addEventListener('click', (e)=>{ 
      const q = e.target.closest('.chip')?.dataset.q; 
      if(!q) return; 
      handleUser(q); 
    });
    
    const KEY='kht_chat_state_v1';
    function persist(){ 
      localStorage.setItem(KEY, chatLog.innerHTML); 
    }
    
    function restore(){ 
      const html = localStorage.getItem(KEY); 
      if(html){ 
        chatLog.innerHTML = html; 
      }
    }
    
    function saveOpen(v){ 
      localStorage.setItem(KEY+'_open', v? '1':'0'); 
    }
    
    function restoreOpen(){ 
      if(localStorage.getItem(KEY+'_open')==='1') { 
        openChat(); 
      }
    }
    
    restore(); 
    restoreOpen();
    if(!chatLog.children.length){ 
      botGreeting(); 
    }
  </script>
</body>

</html>
